/*!
 * Real3D FlipBook [https://real3dflipbook.com]
 * @author creativeinteractivemedia [https://codecanyon.net/user/creativeinteractivemedia/portfolio]
 * @version 3.53
 * @date 2024-01-23
 */
var FLIPBOOK=FLIPBOOK||{};!function(t,e,o,i){t.fn.flipBook=function(t){return new FLIPBOOK.Main(t,this)},t.fn.swipeBook=function(t){return t.viewMode="swipe",new FLIPBOOK.Main(t,this)},t.fn.flipBook.options={name:"",pages:[],tableOfContent:[],tableOfContentCloseOnClick:!0,thumbsCloseOnClick:!0,deeplinkingEnabled:!1,deeplinkingPrefix:"",assets:{preloader:"../assets/images/preloader.jpg",flipMp3:"../assets/mp3/turnPage.mp3",spinner:"../assets/images/spinner.gif",backgroundMp3:"../assets/mp3/background.mp3"},pdfUrl:null,pdfBrowserViewerIfMobile:!1,pdfBrowserViewerIfIE:!1,pdfBrowserViewerFullscreen:!0,pdfBrowserViewerFullscreenTarget:"_blank",rangeChunkSize:64,disableRange:!1,disableStream:!0,disableAutoFetch:!0,pdfAutoLinks:!1,htmlLayer:!0,rightToLeft:!1,startPage:0,sound:!0,backgroundColor:"rgb(81, 85, 88)",backgroundImage:"",backgroundPattern:"",backgroundTransparent:!1,thumbSize:130,loadAllPages:!1,loadPagesF:2,loadPagesB:1,autoplayOnStart:!1,autoplayInterval:3e3,autoplayLoop:!0,skin:"light",layout:"3",menuOverBook:!1,menuFloating:!1,menuBackground:"",menuShadow:"",menuMargin:0,menuPadding:0,menuTransparent:!1,menu2OverBook:!0,menu2Floating:!1,menu2Background:"",menu2Shadow:"",menu2Margin:0,menu2Padding:0,menu2Transparent:!0,skinColor:"",skinBackground:"",btnColor:"",btnBackground:"none",btnSize:18,btnRadius:2,btnMargin:2,btnPaddingV:10,btnPaddingH:10,btnShadow:"",btnTextShadow:"",btnBorder:"",btnColorHover:"",btnBackgroundHover:"",sideBtnColor:"#FFF",sideBtnBackground:"#00000033",sideBtnSize:25,sideBtnRadius:0,sideBtnMargin:0,sideBtnPaddingV:10,sideBtnPaddingH:10,sideBtnShadow:"",sideBtnTextShadow:"",sideBtnBorder:"",sideBtnColorHover:"#FFF",sideBtnBackgroundHover:"#00000066",floatingBtnColor:"#EEE",floatingBtnColorHover:"",floatingBtnBackground:"#00000044",floatingBtnBackgroundHover:"",floatingBtnSize:null,floatingBtnRadius:null,floatingBtnMargin:null,floatingBtnPadding:null,floatingBtnShadow:"",floatingBtnTextShadow:"",floatingBtnBorder:"",btnOrder:["currentPage","search","btnFirst","btnPrev","btnNext","btnLast","btnZoomIn","btnZoomOut","btnRotateLeft","btnRotateRight","btnAutoplay","btnSearch","btnSelect","btnBookmark","btnNotes","btnToc","btnThumbs","btnShare","btnPrint","btnDownloadPages","btnDownloadPdf","btnSound","btnExpand","btnClose"],currentPage:{enabled:!0,title:"Current page",vAlign:"top",hAlign:"left",marginH:0,marginV:0,color:"",background:""},search:{enabled:!1},btnFirst:{enabled:!1,title:"First page",svg:"last",iconReverse:!0},btnPrev:{enabled:!0,title:"Previous page",svg:"next",iconReverse:!0},btnNext:{enabled:!0,title:"Next page"},btnLast:{enabled:!1,title:"Last page"},btnZoomIn:{enabled:!0,title:"Zoom in",svg:"plus"},btnZoomOut:{enabled:!0,title:"Zoom out",svg:"minus"},btnRotateLeft:{enabled:!1,title:"Rotate left"},btnRotateRight:{enabled:!1,title:"Rotate right"},btnAutoplay:{enabled:!0,title:"Autoplay",svg:"play",svgAlt:"pause"},btnSearch:{enabled:!1,title:"Search"},btnSelect:{enabled:!0,title:"Select tool"},btnBookmark:{enabled:!0,title:"Bookmark"},btnNotes:{enabled:!1,title:"Notes"},btnToc:{enabled:!0,title:"Table of Contents",svg:"list"},btnThumbs:{enabled:!0,title:"Pages"},btnShare:{enabled:!0,title:"Share",hideOnMobile:!0},btnPrint:{enabled:!0,title:"Print",hideOnMobile:!0},btnDownloadPages:{enabled:!0,title:"Download pages",url:"images/pages.zip",name:"allPages.zip",svg:"download"},btnDownloadPdf:{forceDownload:!1,enabled:!0,title:"Download PDF",url:null,openInNewWindow:!0,name:"allPages.pdf",svg:"pdf"},btnSound:{enabled:!0,title:"Volume",hideOnMobile:!0,svgAlt:"mute"},btnExpand:{enabled:!0,title:"Toggle fullscreen",svgAlt:"compress"},btnClose:{title:"Close",hAlign:"right",vAlign:"top",size:20},btnShareIfMobile:!1,btnSoundIfMobile:!1,btnPrintIfMobile:!1,sideNavigationButtons:!0,hideMenu:!1,shareUrl:null,shareTitle:null,shareImage:null,whatsapp:{enabled:!0},twitter:{enabled:!0},facebook:{enabled:!0},pinterest:{enabled:!0},email:{enabled:!0},linkedin:{enabled:!0},digg:{enabled:!1},reddit:{enabled:!1},pdf:{annotationLayer:!1},pageTextureSize:2048,pageTextureSizeSmall:1500,thumbTextureSize:300,pageTextureSizeMobile:1500,pageTextureSizeMobileSmall:1024,viewMode:"webgl",singlePageMode:!1,singlePageModeIfMobile:!1,zoomMin:.95,zoomMin2:.15,zoomMax2:null,zoomSize:null,zoomStep:2,zoomTime:300,zoomReset:!1,zoomResetTime:300,wheelDisabledNotFullscreen:!1,arrowsDisabledNotFullscreen:!1,arrowsAlwaysEnabledForNavigation:!0,responsiveView:!0,responsiveViewRatio:1,responsiveViewTreshold:768,minPixelRatio:1,pageFlipDuration:1,contentOnStart:!1,thumbnailsOnStart:!1,searchOnStart:!1,sideMenuOverBook:!0,sideMenuOverMenu:!1,sideMenuOverMenu2:!0,sideMenuPosition:"left",lightBox:!1,lightBoxOpened:!1,lightBoxFullscreen:!1,lightboxCloseOnClick:!1,lightboxResetOnOpen:!0,lightboxBackground:null,lightboxBackgroundColor:null,lightboxBackgroundPattern:null,lightboxBackgroundImage:null,lightboxStartPage:null,lightboxMarginV:"0",lightboxMarginH:"0",lightboxCSS:"",lightboxPreload:!1,lightboxShowMenu:!1,lightboxCloseOnBack:!0,disableImageResize:!0,pan:0,panMax:10,panMax2:2,panMin:-10,panMin2:-2,tilt:0,tiltMax:0,tiltMax2:0,tiltMin:0,tiltMin2:-5,rotateCameraOnMouseMove:!1,rotateCameraOnMouseDrag:!0,lights:!0,lightColor:16777215,lightPositionX:0,lightPositionZ:1400,lightPositionY:350,lightIntensity:.6,shadows:!0,shadowMapSize:1024,shadowOpacity:.2,shadowDistance:0,pageRoughness:1,pageMetalness:0,pageHardness:2,coverHardness:2,pageSegmentsW:10,pageSegmentsH:1,pageMiddleShadowSize:2,pageMiddleShadowColorL:"#999999",pageMiddleShadowColorR:"#777777",antialias:!1,preloaderText:"",fillPreloader:{enabled:!1,imgEmpty:"images/logo_light.png",imgFull:"images/logo_dark.png"},logoImg:"",logoUrl:"",logoCSS:"position:absolute;",logoHideOnMobile:!1,printMenu:!0,downloadMenu:!0,cover:!0,backCover:!0,pdfTextLayer:!0,annotationLayer:!0,googleAnalyticsTrackingCode:null,minimumAndroidVersion:6,linkColor:"rgba(0, 0, 0, 0)",linkColorHover:"rgba(255, 255, 0, 1)",linkOpacity:.4,linkTarget:"_blank",rightClickEnabled:!0,pageNumberOffset:0,flipSound:!0,backgroundMusic:!1,doubleClickZoomDisabled:!1,pageDragDisabled:!1,pageClickAreaWdith:"10%",noteTypes:[{id:1,title:"User",color:"green",enabled:!0},{id:2,title:"Group",color:"yellow",enabled:!0},{id:3,title:"Admin",color:"blue",enabled:!0}],pageRangeStart:null,pageRangeEnd:null,strings:{print:"Print",printLeftPage:"Print left page",printRightPage:"Print right page",printCurrentPage:"Print current page",printAllPages:"Print all pages",download:"Download",downloadLeftPage:"Download left page",downloadRightPage:"Download right page",downloadCurrentPage:"Download current page",downloadAllPages:"Download all pages",bookmarks:"Bookmarks",bookmarkLeftPage:"Bookmark left page",bookmarkRightPage:"Bookmark right page",bookmarkCurrentPage:"Bookmark current page",search:"Search",findInDocument:"Find in document",pagesFoundContaining:"pages found containing",noMatches:"No matches",matchesFound:"matches found",page:"Page",matches:"matches",thumbnails:"Thumbnails",tableOfContent:"Table of Contents",share:"Share",notes:"Notes",pressEscToClose:"Press ESC to close",password:"Password",addNote:"Add note",typeInYourNote:"Type in your note..."},mobile:{shadows:!1,pageSegmentsW:5}},FLIPBOOK.Main=function(t,i){var n=this;this.elem=i,this.$elem=jQuery(i),this.$body=jQuery("body"),this.body=this.$body[0],this.$window=jQuery(e),this.bodyHasVerticalScrollbar=function(){return n.body.scrollHeight>e.innerHeight},this.isZoomed=function(){return n.zoom>1},this.options={};var s,a=o.createElement("div").style,r=function(){for(var t="t,webkitT,MozT,msT,OT".split(","),e=0,o=t.length;e<o;e++)if(t[e]+"ransform"in a)return t[e].substr(0,t[e].length-1);return!1}(),l=/android/gi.test(navigator.appVersion),h=(s="perspective",(""===r?s:(s=s.charAt(0).toUpperCase()+s.substr(1),r+s))in a);this.isAndroid=l,this.has3d=h,void 0===FLIPBOOK.hasWebGl&&(FLIPBOOK.hasWebGl=function(){const t=o.createElement("canvas");return(t.getContext("webgl")||t.getContext("experimental-webgl"))instanceof WebGLRenderingContext}()),this.hasWebGl=FLIPBOOK.hasWebGl,this.thumbsShowing=!1,this.bookmarkShowing=!1,this.searchingString=!1,this.tocShowing=!1,this.menuShowing=!0,this.fullscreenActive=!1;var d={2:{currentPage:{vAlign:"bottom",hAlign:"center"},btnAutoplay:{hAlign:"left"},btnSound:{hAlign:"left"},btnExpand:{hAlign:"right"},btnZoomIn:{hAlign:"right"},btnZoomOut:{hAlign:"right"},btnSearch:{hAlign:"left"},btnBookmark:{hAlign:"left"},btnToc:{hAlign:"left"},btnThumbs:{hAlign:"left"},btnShare:{hAlign:"right"},btnPrint:{hAlign:"right"},btnDownloadPages:{hAlign:"right"},btnDownloadPdf:{hAlign:"right"},btnSelect:{hAlign:"right"}},3:{menuTransparent:!0,menu2Transparent:!1,menu2OverBook:!1,menu2Padding:5,btnMargin:5,currentPage:{vAlign:"top",hAlign:"center"},btnPrint:{vAlign:"top",hAlign:"right"},btnDownloadPdf:{vAlign:"top",hAlign:"right"},btnDownloadPages:{vAlign:"top",hAlign:"right"},btnThumbs:{vAlign:"top",hAlign:"left"},btnToc:{vAlign:"top",hAlign:"left"},btnBookmark:{vAlign:"top",hAlign:"left"},btnSearch:{vAlign:"top",hAlign:"left"},btnSelect:{vAlign:"top",hAlign:"right"},btnShare:{vAlign:"top",hAlign:"right"},btnAutoplay:{hAlign:"right"},btnExpand:{hAlign:"right"},btnZoomIn:{hAlign:"right"},btnZoomOut:{hAlign:"right"},btnSound:{hAlign:"right"},menuPadding:5},4:{menu2Transparent:!1,menu2OverBook:!1,sideMenuOverMenu2:!1,currentPage:{vAlign:"top",hAlign:"center"},btnAutoplay:{vAlign:"top",hAlign:"left"},btnSound:{vAlign:"top",hAlign:"left"},btnExpand:{vAlign:"top",hAlign:"right"},btnZoomIn:{vAlign:"top",hAlign:"right"},btnZoomOut:{vAlign:"top",hAlign:"right"},btnSearch:{vAlign:"top",hAlign:"left"},btnBookmark:{vAlign:"top",hAlign:"left"},btnToc:{vAlign:"top",hAlign:"left"},btnThumbs:{vAlign:"top",hAlign:"left"},btnShare:{vAlign:"top",hAlign:"right"},btnPrint:{vAlign:"top",hAlign:"right"},btnDownloadPages:{vAlign:"top",hAlign:"right"},btnDownloadPdf:{vAlign:"top",hAlign:"right"},btnSelect:{vAlign:"top",hAlign:"right"}}},p={dark:{skinColor:"#EEE",btnColorHover:"#FFF",skinBackground:"#313538"},light:{skinColor:"#222",btnColorHover:"#000",skinBackground:"#FFF",floatingBtnColor:"#FFF",floatingBtnBackground:"#00000055"},gradient:{skinColor:"#EEE",btnColor:"#EEE",btnColorHover:"#FFF",skinBackground:"#313538DD",menuOverBook:!0,menu2OverBook:!0,sideMenuOverMenu:!0,sideMenuOverMenu2:!0,menuBackground:"linear-gradient(to top, rgba(0, 0, 0, 0.65) 0%, transparent 100%)",menu2Background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.65) 0%, transparent 100%)"}};for(var c in p)t.skin==c&&(t=jQuery.extend(!0,{},p[c],t));for(var c in d)Number(t.layout)===c&&(t=jQuery.extend(!0,{},d[c],t));this.options=jQuery.extend(!0,{},jQuery.fn.flipBook.options,t);var g,u,b=this.options;if(b.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),b.isMobile)for(var c in b.mobile)b[c]=b.mobile[c];if(this.strings=b.strings,b.pageShininess=b.pageShininess/2,this.s=0,b.googleAnalyticsTrackingCode)if(this.gaCode=b.googleAnalyticsTrackingCode,this.gaCode.includes("UA-"))e.ga||function(t,e,o,i,n,s,a){t.GoogleAnalyticsObject=n,t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},t[n].l=1*new Date,s=e.createElement(o),a=e.getElementsByTagName(o)[0],s.async=1,s.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(s,a)}(e,o,"script",0,"ga"),ga("create",this.gaCode,"auto");else if(this.gaCode.includes("G-")||this.gaCode.includes("AW-")){var m=o.createElement("script");m.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+this.gaCode);const t=this;m.async=1,m.onload=function(){function o(){dataLayer.push(arguments)}e.dataLayer=e.dataLayer||[],o("js",new Date),o("config",t.gaCode)},o.body.appendChild(m)}if(b.isMobile&&(b.singlePageMode=!!b.singlePageModeIfMobile||b.singlePageMode,b.viewModeMobile&&(b.viewMode=b.viewModeMobile),b.pageTextureSizeMobile&&(b.pageTextureSize=b.pageTextureSizeMobile),b.pageTextureSizeMobileSmall&&(b.pageTextureSizeSmall=b.pageTextureSizeMobileSmall)),"3dSinglePage"==b.viewMode&&(b.singlePageMode=!0),"2dSinglePage"==b.viewMode&&(b.singlePageMode=!0,b.viewMode="2d"),b.singlePageMode&&("2d"!=b.viewMode&&"swipe"!=b.viewMode&&(b.viewMode="3d"),b.rightToLeft&&(b.viewMode="swipe"),b.cover=!0),b.singlePageMode&&"3d"==b.viewMode&&(b.rightToLeft=!1),"simple"==b.viewMode&&(b.viewMode="3d",b.instantFlip=!0),b.cover||(b.responsiveView=!1),b.sideMenuPosition=b.rightToLeft?"right":"left","webgl"==b.viewMode&&(!this.hasWebGl||parseFloat(!!(u=(g=(g||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&u[1])<b.minimumAndroidVersion&&this.isAndroid)&&(b.viewMode="3d"),"3d"!=b.viewMode||n.has3d||(b.viewMode="2d"),this.webgl="webgl"==b.viewMode,b.menuFloating&&(b.menuOverBook=!0,b.sideMenuOverMenu=!0),b.menu2Floating&&(b.menu2OverBook=!0,b.sideMenuOverMenu2=!0),b.menuTransparent&&(b.menuOverBook=!0,b.sideMenuOverMenu=!0,b.menuBackground="none"),b.menu2Transparent?(b.menu2OverBook=!0,b.sideMenuOverMenu2=!0,b.menu2Background="none"):b.sideMenuOverMenu2=!1,b.menuOverBook&&(b.sideMenuOverMenu=!0),b.menu2OverBook&&(b.sideMenuOverMenu2=!0),b.isMobile&&b.pdfBrowserViewerIfMobile&&b.pdfUrl)return void(b.lightBox&&!b.lightBoxOpened?this.$elem.on("touched click",(function(){f()})).css("cursor","pointer"):f());if(b.isIE&&b.pdfBrowserViewerIfIE&&b.pdfUrl)return void(b.lightBox&&!b.lightBoxOpened?this.$elem.on("touched click",(function(){f()})).css("cursor","pointer"):f());function f(){b.pdfBrowserViewerFullscreen?e.open(b.pdfUrl,b.pdfBrowserViewerFullscreenTarget):jQuery('<object type="application/pdf"/>').width("100%").height("100%").attr("data",b.pdfUrl).appendTo(n.$elem)}async function v(){if(!n.disposed){var t=e.location.hash,o=n.getPageFromHash();b.cover||o++;var i=o;o<1?o=1:n.numPages&&o>n.numPages&&(o=n.numPages),o&&(o=b.rightToLeft&&b.pages&&b.pages.length?b.pages.length-o+1:o,n.started?n.Book&&(n.lightbox&&!FLIPBOOK.lightboxOpened&&(n.lightbox.openLightbox(),await n.lightboxStart()),n.goToPage(o,-1==t.indexOf("flip"))):(b.startPage=i,b.lightBox&&(k(),b.lightBoxFullscreen&&setTimeout((function(){n.toggleExpand()}),100))))}}function k(){if(!n.initStarted)if(n.initStarted=!0,b.fillPreloader.enabled){n.$fillPreloader=jQuery("<div>").addClass("flipbook-fillPreloader");var t=new Image;t.src=b.fillPreloader.imgEmpty,t.onload=function(){var e=new Image;e.src=b.fillPreloader.imgFull,e.onload=function(){jQuery(t).appendTo(n.$fillPreloader),n.$fillPreloaderImg=jQuery(e).appendTo(n.$fillPreloader),n.$fillPreloader.appendTo(n.wrapper),w()}}}else w()}function w(){n.initialized||(n.id=Date.now(),n.addPageItems(),b.pdfMode?n.initPdf():n.initJpg(),n.setLoadingProgress(.1),n.lightbox&&n.options.lightboxShowMenu&&n.createMenu(),n.initialized=!0)}b.pdfMode=Boolean(b.pdfUrl&&""!=b.pdfUrl)||b.pdfBase64,b.backgroundTransparent&&(b.backgroundColor="none"),this.wrapper=jQuery(o.createElement("div")).addClass("flipbook-main-wrapper"),""!=b.backgroundColor&&this.wrapper.css("background",b.backgroundColor),""!=b.backgroundPattern&&this.wrapper.css("background","url("+b.backgroundPattern+") repeat"),""!=b.backgroundImage&&(this.wrapper.css("background","url("+b.backgroundImage+") no-repeat"),this.wrapper.css("background-size","cover"),this.wrapper.css("background-position","center center")),this.bookLayer=jQuery(o.createElement("div")).addClass("flipbook-bookLayer").appendTo(n.wrapper),b.rightClickEnabled||this.bookLayer.bind("contextmenu",(function(t){return!1})),b.hideMenu&&(this.bookLayer.css("bottom","0"),b.menuOverBook=!0),b.pagesOriginal=JSON.parse(JSON.stringify(b.pages)),this.book=jQuery(o.createElement("div")).addClass("book").appendTo(n.bookLayer),b.preloader?this.preloader=b.preloader:!jQuery(".flipbook-preloader").length&&b.lightBox?this.preloader=jQuery('<div class="flipbook-preloader cssload-container"><div class="cssload-speeding-wheel"></div><div class="flipbook-loading-text">'+b.preloaderText+'</div><div class="flipbook-loading-bg"></div></div>'):b.lightBox?this.preloader=jQuery(".flipbook-preloader"):this.preloader=jQuery('<div class="flipbook-preloader-2 cssload-container"><div class="cssload-speeding-wheel"></div><div class="flipbook-loading-text">'+b.preloaderText+'</div><div class="flipbook-loading-bg"></div></div>'),this.setLoadingProgress(0),this.dispose=function(){this.disposed=!0},b.main=this,this._events={},this.on=function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},this.off=function(t,e){if(this._events[t]){var o=this._events[t].indexOf(e);o>-1&&this._events[t].splice(o,1)}},this.trigger=function(t){if(this._events[t]){var e=0,o=this._events[t].length;if(o)for(;e<o;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},this.on("textlayerrendered",(function(t){n.searchingString&&n.mark(n.searchingString,!0)})),this.on("pageLoaded",(function(t){b.pages[t.index]=b.pages[t.index]||{},b.pages[t.index].canvas=b.pages[t.index].canvas||{},b.pages[t.index].images=b.pages[t.index].images||{},b.pages[t.index].images[t.size]=t.images,n.searchingString&&n.mark(n.searchingString,!0)})),this.addPageNotes=function(t){this.noteService&&this.noteService.initPageNotes(t)},this.on("pdfinit",(function(){b.tableOfContent=n.pdfService.outline||b.tableOfContent,b.doublePage=n.pdfService.double,b.doublePage||(b.backCover=n.pdfService.numPages%2==0,b.cover||(b.backCover=!b.backCover)),n.viewportOriginal=n.pdfService.viewports[0],b.firstPage={width:n.pdfService.viewports[0].width,height:n.pdfService.viewports[0].height,ratio:n.pdfService.viewports[0].width/n.pdfService.viewports[0].height},n.pdfService.numPages>1&&(b.secondPage={width:n.pdfService.viewports[1].width,height:n.pdfService.viewports[1].height,ratio:n.pdfService.viewports[1].width/n.pdfService.viewports[1].height}),b.numPages=n.pdfService.numPages,1==b.numPages&&(b.viewMode="swipe",b.singlePageMode=!0,b.btnNext.enabled=!1,b.btnPrev.enabled=!1,b.btnFirst.enabled=!1,b.btnLast.enabled=!1,b.sideNavigationButtons=!1,b.btnAutoplay.enabled=!1,b.printMenu=!1,b.downloadMenu=!1,n.webgl=!1);for(var t=[],e=b.pageTextureSize,o=0;o<b.numPages;o++){var i={canvas:{}};b.pages&&b.pages[o]?jQuery.extend(i,b.pages[o]):i.title=o+1,t[o]=i}b.pages=t,b.pageWidth=parseInt(e*n.viewportOriginal.width/n.viewportOriginal.height),b.pageHeight=e,b.pw=b.pageWidth,b.ph=b.pageHeight,b.zoomSize=b.zoomSize||b.pageTextureSize,n.start()})),this.on("toolSelect",(function(){n.bookLayer.removeClass("flipbook-move"),n.btnSelect&&n.btnSelect.addClass("flipbook-btn-active"),n.bookLayer.removeClass("flipbook-disable-text-selection")})),this.on("toolMove",(function(){n.bookLayer.addClass("flipbook-move"),n.btnSelect&&n.btnSelect.removeClass("flipbook-btn-active"),n.bookLayer.addClass("flipbook-disable-text-selection")})),FLIPBOOK.flipbookSrc=FLIPBOOK.flipbookSrc||this.options.flipbookSrc||function(){for(var t=o.getElementsByTagName("script"),e=0;e<t.length;e++){var i=String(t[e].src);if(i.match("flipbook\\.js")||i.match("flipbook\\.min\\.js"))return i;if(i.match("flipbook\\.lite\\.js")||i.match("flipbook\\.lite\\.min\\.js"))return i.replace(".lite","")}return""}();const P=FLIPBOOK.flipbookSrc.includes("flipbook.min.js"),x=P?"flipbook.min.js":"flipbook.js",y=P?".min":"";FLIPBOOK.markSrc=`https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark${y}.js`;if([{key:"iscrollSrc",value:"libs/iscroll"},{key:"threejsSrc",value:"libs/three"},{key:"flipbookWebGlSrc",value:"flipbook.webgl"},{key:"flipbookBook3Src",value:"flipbook.book3"},{key:"flipBookSwipeSrc",value:"flipbook.swipe"},{key:"flipBookScrollSrc",value:"flipbook.scroll"},{key:"pdfjsSrc",value:"libs/pdf"},{key:"pdfServiceSrc",value:"flipbook.pdfservice"},{key:"pdfjsworkerSrc",value:"libs/pdf.worker"},{key:"screenfullSrc",value:"libs/screenfull"}].forEach((t=>{FLIPBOOK[t.key]=FLIPBOOK.flipbookSrc.replace(x,t.value+y+".js")})),!b.deeplinkingPrefix&&b.deeplinking&&b.deeplinking.prefix&&(b.deeplinkingPrefix=b.deeplinking.prefix),b.deeplinkingEnabled=b.deeplinkingPrefix||b.deeplinkingEnabled||b.deeplinking&&b.deeplinking.enabled,b.deeplinkingEnabled&&(v(),e.addEventListener("hashchange",v)),b.lightBox)b.btnClose.enabled=!0,this.lightbox=new FLIPBOOK.Lightbox(this,this.wrapper,b),this.lightboxStartedTimes=0,this.wrapper.css("background","none"),this.bookLayer.css("background","none"),this.book.css("background","none"),this.preloader.appendTo(this.$body).css("position","fixed"),this.$elem.css("cursor","pointer").bind("tap click",(async function(t){t.preventDefault(),n.lightboxStartPage=jQuery(this).attr("data-page"),n.started?(await n.lightboxStart(),b.lightBoxFullscreen&&setTimeout((async function(){await n.loadScript(FLIPBOOK.screenfullSrc),n.toggleExpand()}),0)):(k(),b.lightBoxFullscreen&&setTimeout((async function(){await n.loadScript(FLIPBOOK.screenfullSrc),n.toggleExpand()}),100))})),b.lightBoxOpened?(k(),jQuery(e).trigger("r3d-lightboxloadingstarted")):b.lightboxPreload&&async function(){var t=[];"undefined"==typeof IScroll&&t.push(n.loadScript(FLIPBOOK.iscrollSrc)),void 0===FLIPBOOK.PdfService&&t.push(n.loadScript(FLIPBOOK.pdfServiceSrc)),void 0===e.screenfull&&t.push(n.loadScript(FLIPBOOK.screenfullSrc)),b.pdfMode&&("undefined"==typeof pdfjsLib&&t.push(n.loadScript(FLIPBOOK.pdfjsSrc)),void 0===FLIPBOOK.PdfService&&t.push(n.loadScript(FLIPBOOK.pdfServiceSrc)),(b.btnSearch.enabled||b.btnNotes.enabled||b.search.enabled)&&t.push(n.loadScript(FLIPBOOK.markSrc))),"webgl"==b.viewMode&&"undefined"==typeof THREE&&await n.loadScript(FLIPBOOK.threejsSrc),await Promise.all(t)}(),this.fullscreenElement=o.documentElement;else{b.btnClose.enabled=!1,this.preloader.appendTo(this.wrapper),this.wrapper.appendTo(this.$elem),this.fullscreenElement=this.$elem[0];new IntersectionObserver((t=>{t[0].isIntersecting?n.Book?n.Book.enable():k():n.Book&&n.Book.disable()})).observe(this.wrapper[0])}},FLIPBOOK.Main.prototype={start:async function(){if(this.options.dp&&(this.options.doublePage=!0),this.started)return;this.pageW=this.options.pageWidth,this.bookW=2*this.options.pageWidth,this.options.singlePageMode&&(this.bookW/=2),this.pageH=this.options.pageHeight,this.bookH=this.options.pageHeight,this.options.numPages%2==0?this.options.numSheets=(this.options.numPages+2)/2:this.options.numSheets=(this.options.numPages+1)/2,this.started=!0,this.options.lightBox&&(this.lightbox.openLightbox(),await this.lightboxStart());const t=this.options.pageClickAreaWdith,e=this.options.pages.length,o=this.options.doublePage,i=this.options.singlePageMode,n="webgl"==this.options.viewMode;function s(e){e.htmlContent+='<div style="position: absolute; width: '+t+'; height: 100%; top: 0; left: 0; cursor: pointer;" class="internalLink" data-page="prev"></div>'}function a(e){e.htmlContent+='<div style="position: absolute; width: '+t+'; height: 100%; top: 0; right: 0; cursor: pointer;" class="internalLink" data-page="next"></div>'}!t||!n&&o||this.options.pages.forEach((function(t,o){t.htmlContent=t.htmlContent||"",i?(o>0&&s(t),o<e-1&&a(t)):o%2==0?a(t):s(t)})),await this.createBook(),this.createTooltip(),this.options.btnNotes.enabled&&this.initNotes(),this.updateSkinColors()},updateSkinColors:function(){var t=this.options;t.skinColor&&this.wrapper.find(".skin-color").css("color",t.skinColor),t.skinBackground&&this.wrapper.find(".skin-color-bg").css("background",t.skinBackground)},lightboxStart:async function(){var t=this;this.started||await this.start(),void 0!==this.Book?(this.Book.enable(),this.backgroundMusic&&this.backgroundMusic.pause(),this.lightboxStartPage?this.goToPage(this.lightboxStartPage,!0):this.options.lightboxStartPage&&this.goToPage(this.options.lightboxStartPage,!0),this.lightboxStartedTimes++,this.sendGAEvent({event:`Flipbook : ${this.options.name}`,action:"Lightbox open",label:"Lightbox open",value:this.lightboxStartedTimes}),this.updateCurrentPage(),this.initColors(),this.resize()):setTimeout((function(){t.lightboxStart()}),100)},setHash:function(t){t<1&&(t=1),"#"+this.options.deeplinkingPrefix+t!=e.location.hash&&this.options.deeplinkingEnabled&&this.Book.enabled&&this.hash!=t&&(e.location.hash="#"+this.options.deeplinkingPrefix+String(t),this.hash=t)},clearHash:function(){var t,i,n=e.location;"pushState"in history?history.pushState("",o.title,n.pathname+n.search):(t=o.body.scrollTop,i=o.body.scrollLeft,n.hash="",o.body.scrollTop=t,o.body.scrollLeft=i)},getPageFromHash:function(){var t,o=e.location.hash,i="#"+this.options.deeplinkingPrefix;return-1!==o.indexOf(i)&&(t=parseInt(e.location.hash.replace(/#/g,"").replace(this.options.deeplinkingPrefix,""))),t},sendGAEvent:function(t){if(this.gaCode)if(this.gaCode.includes("UA-"))ga("send",{hitType:"event",eventCategory:t.event,eventAction:t.action,eventLabel:t.label,eventValue:t.value,nonInteraction:!0});else{e.dataLayer=e.dataLayer||[],function(){dataLayer.push(arguments)}("event",t.event,{action:t.action})}},initColors:function(){this.wrapper.find(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-"+this.options.skin),this.wrapper.find(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-"+this.options.skin),this.updateSkinColors()},lightboxEnd:function(){void 0!==e.screenfull&&e.screenfull.isFullscreen&&e.screenfull.exit(),e.location.hash&&this.clearHash(),this.setLoadingProgress(1),this.Book&&this.Book.disable(),this.wrapper[0].querySelectorAll(".flipbook-page-item").forEach((function(t){"VIDEO"!=t.nodeName&&"AUDIO"!=t.nodeName||t.pause()})),this.backgroundMusic&&this.backgroundMusic.pause()},turnPageComplete:function(){this.animating=!1,this.updateCurrentPage();var t=this.Book.rightIndex||0;this.options.rightToLeft&&(t=this.options.pages.length-t),this.trigger("turnpagecomplete",{rightIndex:t}),this.options.zoomReset&&this.Book.zoomTo(this.options.zoomMin)},updateCurrentPage:function(){var t,o=this.options.rightToLeft,i=this.options.numPages,n=i-this.options.pageNumberOffset,s=this.Book.rightIndex||0;if(s%2==1&&s++,o&&(s=this.options.pages.length-s),this.options.singlePageMode||this.Book.singlePage||1==this.Book.view?(this.Book.getCurrentPageNumber?t=this.Book.getCurrentPageNumber():(o&&s--,t=s+1),this.options.cover||(t=Number(t)-1),this.setHash(t),this.cPage=[t-1]):(s>i||s==i&&i%2==0?(t=i,this.cPage=[i-1],this.options.cover||(t=String(s-1)+"-"+String(s),this.cPage=[s-2,s-1])):s<1?(t=1,this.cPage=[0]):(t=String(s)+"-"+String(s+1),this.options.cover||(t=String(s-1)+"-"+String(s)),this.cPage=[s-1,s]),this.options.cover?this.setHash(s):this.setHash(s-1)),o?(this.enableNext(s>0),this.options.cover||this.enableNext(s>2),this.enablePrev(this.Book.canFlipPrev()||s<i-1)):(this.enablePrev(s>0),this.options.cover||this.enablePrev(s>2),this.enableNext(this.Book.canFlipNext()||s<i-1)),2==this.cPage.length?(this.wrapper.find(".c-l-p").show(),this.wrapper.find(".c-r-p").show(),this.wrapper.find(".c-p").hide()):(this.wrapper.find(".c-l-p").hide(),this.wrapper.find(".c-r-p").hide(),this.wrapper.find(".c-p").show()),void 0!==this.currentPage&&(this.s&&this.options.pdfPageScale>0&&this.goToPage(0),t!=this.currentPageValue)){this.currentPageValue=String(t);var a=Number(String(t).split("-")[0]),r=Number(String(t).split("-")[1]);a&&this.options.pages[Number(a-1)]&&this.options.pages[Number(a-1)].name&&(a=this.options.pages[Number(a-1)].name),r&&this.options.pages[Number(r-1)]&&this.options.pages[Number(r-1)].name&&(r=this.options.pages[Number(r-1)].name),t=a&&r?a+"-"+r:a||(r||1),this.currentPage.text(t+" / "+String(n)),this.currentPageInput.width(this.currentPageHolder.width()),this.resize(),jQuery(this).trigger({type:"pagechange",page:this.currentPageValue,name:this.options.name}),jQuery(e).trigger({type:"r3d-pagechange",page:this.currentPageValue,name:this.options.name}),this.sendGAEvent({event:`Flipbook : ${this.options.name}`,action:`page ${this.currentPageValue}`})}},initJpg:function(){var t=this;if(1==this.options.numPages&&(this.options.viewMode="swipe",this.options.singlePageMode=!0,this.webgl=!1),this.options.pageRangeStart||this.options.pageRangeEnd){const t=this.options.pageRangeStart||1,e=this.options.pageRangeEnd||this.options.pages.length;this.options.pages=this.options.pages.splice(t-1,e-t+1)}var e=0,o=1;this.options.cover||(e=1,o=2),this.loadPage(e,this.options.pageTextureSize,(function(){t.setLoadingProgress(.5);var e=t.options;if(1==e.pages.length){var i=e.pages[0].img;e.pw=i.width,e.ph=i.height,e.pageWidth=i.width,e.pageHeight=i.height,e.pageMode="singlePage",e.doublePage=!1,e.zoomSize=e.zoomSize||i.height,t.setLoadingProgress(.7),e.btnNext.enabled=!1,e.btnPrev.enabled=!1,e.btnFirst.enabled=!1,e.btnLast.enabled=!1,e.sideNavigationButtons=!1,e.btnAutoplay.enabled=!1,t.start()}else t.loadPage(o,e.pageTextureSize,(function(){var o=e.pages[0].img,i=e.pages[1].img,n=o.width/o.height,s=i.width/i.height;e.pw=o.width,e.ph=o.height,e.pageWidth=o.width,e.pageHeight=o.height,e.doublePage=s/n>1.5,e.doublePage||(e.backCover=e.pages.length%2==0,e.cover||(e.backCover=!e.backCover)),e.zoomSize=e.zoomSize||o.height,t.setLoadingProgress(.7),t.start()}))}))},initPdf:async function(){var t=[];if(!this.started){var o=this;"undefined"==typeof pdfjsLib&&t.push(o.loadScript(FLIPBOOK.pdfjsSrc)),this.setLoadingProgress(.2),void 0===FLIPBOOK.PdfService&&t.push(o.loadScript(FLIPBOOK.pdfServiceSrc)),await Promise.all(t),this.setLoadingProgress(.3),e.CanvasPixelArray&&(e.CanvasPixelArray.prototype.set=function(t){for(var e=this.length,o=0;o<e;o++)this[o]=t[o]}),pdfjsLib.GlobalWorkerOptions.workerSrc=this.options.pdfjsworkerSrc||FLIPBOOK.pdfjsworkerSrc;var i={cMapPacked:!0,cMapUrl:this.options.cMapUrl||"cmaps/",disableRange:this.options.disableRange,disableAutoFetch:this.options.disableAutoFetch,disableStream:this.options.disableStream,rangeChunkSize:1024*Number(o.options.rangeChunkSize)};if(o.options.pdfUrl?(!1!==o.options.matchProtocol&&("https:"==location.protocol?o.options.pdfUrl=o.options.pdfUrl.replace("http://","https://"):"http:"==location.protocol&&(o.options.pdfUrl=o.options.pdfUrl.replace("https://","http://"))),i.url=o.options.pdfUrl):o.options.pdfBase64&&(i.data=atob(o.options.pdfBase64)),this.options.password){var n=prompt("Please enter PDF password","");if(null==n)return this.lightbox&&this.lightbox.closeLightbox(!0),this.setLoadingProgress(1),void(this.pdfinitStarted=!1);i.password=n}if(!this.pdfinitStarted)this.pdfinitStarted=!0,pdfjsLib.getDocument(i).promise.then((function(t){o.pdfDocument=t,o.pdfService=new FLIPBOOK.PdfService(t,o,o.options),o.options.thumbLoaded=function(t){o.options.thumbs=o.options.thumbs||[],o.options.thumbs[t.index]=t},o.setLoadingProgress(.5),o.pdfService.init()}),(function(t){"PasswordException"==t.name?(o.pdfinitStarted=!1,o.options.password=!0,o.initPdf()):alert(t)}))}},initPageHTML:function(t){const e=this.options.pages[t];e.htmlInitialized||(this.addPageLinks(e),this.addPageNotes(e),e.htmlInitialized=!0)},addPageLinks:function(t){var e=this;const o=t.htmlContent.jquery?t.htmlContent[0]:t.htmlContent;o.querySelectorAll(".internalLink").forEach((function(t){t.dataset.page&&(t.onclick=function(){if("prev"==t.dataset.page)return e.prevPage(),!1;if("next"==t.dataset.page)return e.nextPage(),!1;let o=Number(t.dataset.page);return e.options.doublePage&&(o=2*o-1),e.options.rightToLeft&&(o=e.options.pages.length-o+1),e.goToPage(o),!1})})),o.querySelectorAll(".spotlight").forEach((function(t){t.dataset.url&&(t.style.cursor="pointer",t.onclick=function(t){t.preventDefault(),e.spotlight(this.dataset.url,this.dataset.title,this.dataset.description)})}))},addPageNames:function(){const t=this.options.pageNumberOffset;if(!t)return;const e=["I","II","III","IV","V","VI","VII"];this.options.pages.forEach((function(o,i){void 0===o.name&&(o.name=i-t+1,o.name<1&&(o.name=e.shift()))}))},loadPageHTML:function(t,e){var i=this,n=this.options;this.options.cover||t--,this.options.pdfMode?this.options.pages[t]?this.pdfService.loadTextLayer(t,(function(o){i.initPageHTML(t),e.call(i,n.pages[t].htmlContent,t)})):e.call(this,{}):n.pages[t].json?this.loadPageJSON(t,(function(s){var a=n.pages[t]||{};if(!a.htmlContentInitialized){var r=o.createElement("div");r.classList.add("flipbook-page-htmlContent"),r.classList.add("page"+String(t)),r.innerHTML=decodeURIComponent(s.data),a.htmlContent&&jQuery(r).append(jQuery(a.htmlContent)),a.htmlContent=r,i.initPageHTML(t),a.htmlContentInitialized=!0}e.call(i,a.htmlContent,t)})):(this.initPageHTML(t),e.call(this,n.pages[t].htmlContent,t))},loadPageJSON:function(t,e){var o=this.options.pages[t]||{},i=this;if(!1!==i.options.matchProtocol&&("https:"==location.protocol?o.json=o.json.replace("http:","https:"):"http:"==location.protocol&&(o.json=o.json.replace("https:","http:"))),!o.jsonLoading&&!o.jsonLoaded)return o.jsonLoading=!0,void jQuery.getJSON(o.json,(function(t){o.jsonLoaded=!0,o.jsonLoading=!1,e.call(i,t)}));o.jsonLoaded?e.call(i):setTimeout((function(){i.loadPageJSON(t,e)}),100)},loadPage:function(t,e,i){this.options.cover||t--;var n=this,s=this.options.pages&&this.options.pages[t]&&this.options.pages[t].src,a=this.options.pages[t];a?this.options.pdfMode&&!s?this.loadPageFromPdf(t,e,i):e==this.options.thumbTextureSize&&a.thumb?a.thumbImg?a.thumbLoaded?n.pageLoaded({index:t,size:e,image:a.thumb},i):setTimeout((function(){n.loadPage(t,e,i)}),300):(a.thumbImg=o.createElement("img"),a.thumbImg.setAttribute("data-id",t),a.thumbImg.onload=function(){a.thumbLoaded=!0,n.pageLoaded({index:t,size:e,image:a.thumbImg},i)},"webgl"==this.options.viewMode&&(a.thumbImg.crossOrigin="Anonymous"),!1!==n.options.matchProtocol&&("https:"==location.protocol?a.thumb=a.thumb.replace("http://","https://"):"http:"==location.protocol&&(a.thumb=a.thumb.replace("https://","http://"))),a.thumbImg.src=a.thumb):a.img?a.imgLoaded?n.pageLoaded({index:t,size:e,image:a.img},i):setTimeout((function(){n.loadPage(t,e,i)}),300):(a.img=o.createElement("img"),a.img.setAttribute("data-id",t),a.img.onload=function(){a.imgLoaded=!0,n.pageLoaded({index:t,size:e,image:a.img},i)},"webgl"==this.options.viewMode&&(a.img.crossOrigin="Anonymous"),!1!==n.options.matchProtocol&&("https:"==location.protocol?a.src=a.src.replace("http://","https://"):"http:"==location.protocol&&(a.src=a.src.replace("https://","http://"))),a.img.src=a.src):i.call(this)},pageLoaded:function(t,e){e.call(this,t,e),this.options.loadAllPages&&t.index<this.options.numPages-1&&this.loadPage(t.index+1,t.size,(function(){})),this.searchingString&&this.mark(this.searchingString,!0)},loadPageFromPdf:function(t,e,o){e=e||this.options.pageTextureSize,this.pdfService.renderBookPage(t,e,o)},getString:function(t){return this.options.strings[t]},mark:function(t,e){(t!=this.markedStr||e)&&(this.markedStr=t,this.options.pages.forEach((function(e){var o=jQuery(e.htmlContent).find(".flipbook-textLayer");e.marked!=t&&o.length&&(e.marked=t,o.unmark({className:"mark-search",done:function(){o.mark(t,{acrossElements:!0,separateWordSearch:!1,className:"mark-blue mark-search"})}}))})))},unmark:function(){this.searchingString=null,this.markedStr=null,this.options.pages.forEach((function(t){t.marked&&(t.marked=null,jQuery(t.htmlContent).unmark({className:"mark-search"}))}))},setTool:function(t){this.tool=t,this.trigger(t)},toggleTool:function(){var t="toolSelect"==this.tool?"toolMove":"toolSelect";this.setTool(t)},toggleSound:function(){var t=this.options;t.sound=!t.sound,this.backgroundMusic&&(t.sound?this.backgroundMusic.play():this.backgroundMusic.pause()),this.toggleIcon(this.btnSound,t.sound)},toggleIcon:function(t,e){if(t.$iconAlt)e?(t.$iconAlt.hide(),t.$icon.show()):(t.$iconAlt.show(),t.$icon.hide());else{var o=e?t.iconAlt:t.icon,i=e?t.icon:t.iconAlt;t.find("."+o).removeClass(o).addClass(i)}},scrollPageIntoView:function(t){let e=t.pageNumber;this.options.doublePage&&(e=2*e-1),this.options.rightToLeft&&(e=this.options.pages.length-e+1),this.goToPage(e)},loadScript:function(t){return new Promise((function(e,n){var s=o.createElement("script"),a=o.getElementsByTagName("script")[0];s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(t,o){(o||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,s=i,o||e())},s.onerror=function(t){n(t,s)},a.parentNode.insertBefore(s,a)}))},createBook:async function(){var t=this,o=this.options,i=[];if("undefined"==typeof IScroll&&i.push(this.loadScript(FLIPBOOK.iscrollSrc)),void 0===e.screenfull&&i.push(this.loadScript(FLIPBOOK.screenfullSrc)),this.options.searchOnStart&&(this.options.btnSearch.enabled=!0),(this.options.btnSearch.enabled||this.options.btnNotes.enabled||this.options.search.enabled)&&i.push(this.loadScript(FLIPBOOK.markSrc)),this.setLoadingProgress(.9),"webgl"==this.options.viewMode?("undefined"==typeof THREE&&await this.loadScript(FLIPBOOK.threejsSrc),void 0===FLIPBOOK.BookWebGL&&i.push(this.loadScript(FLIPBOOK.flipbookWebGlSrc))):"swipe"==this.options.viewMode?void 0===FLIPBOOK.BookSwipe&&i.push(this.loadScript(FLIPBOOK.flipBookSwipeSrc)):"scroll"==this.options.viewMode?void 0===FLIPBOOK.BookScroll&&i.push(this.loadScript(FLIPBOOK.flipBookScrollSrc)):void 0===FLIPBOOK.Book3&&i.push(this.loadScript(FLIPBOOK.flipbookBook3Src)),await Promise.all(i),this.setLoadingProgress(1),this.initEasing(),this.options.doublePage&&this.options.pages.length>2){var n,s,a=this.options.pages[0];a.title=1;for(var r=[a],l=1;l<=this.options.pages.length-2;l++)n={src:(a=this.options.pages[l]).src,thumb:a.thumb,title:2*l,htmlContent:a.htmlContent,json:a.json,side:"left"},s={src:a.src,thumb:a.thumb,title:2*l+1,htmlContent:a.htmlContent,json:a.json,side:"right"},r.push(n),r.push(s);(a=this.options.pages[this.options.pages.length-1]).title=this.options.pages.length,this.options.backCover?r.push(a):(n={src:a.src,thumb:a.thumb,title:2*l,htmlContent:a.htmlContent,json:a.json,side:"left"},s={src:a.src,thumb:a.thumb,title:2*l+1,htmlContent:a.htmlContent,json:a.json,side:"right"},r.push(n),r.push(s)),this.options.pages=r}if(this.addPageNames(),this.options.numPages=this.options.pages.length,this.options.numPages%2==0||this.options.singlePageMode||(this.options.backCover=!1,this.options.cover||(this.options.backCover=!this.options.backCover),this.options.pages.push({src:this.options.assets.preloader,thumb:this.options.assets.preloader,empty:!0})),this.options.pages.length>0&&this.options.pages.forEach((e=>{void 0!==e.htmlContent&&(t.options.hasHtmlContent=!0,e.htmlContent=jQuery(`<div class="flipbook-page-htmlContent">${e.htmlContent}</div>`))})),"webgl"==this.options.viewMode){var h=this.options;h.scroll=this.scroll,h.parent=this,this.Book=new FLIPBOOK.BookWebGL(this.book[0],this,h),this.webglMode=!0,this.initSwipe(),this.initSound()}else"swipe"==this.options.viewMode?(this.Book=new FLIPBOOK.BookSwipe(this.book[0],this.bookLayer[0],this,o),this.initSwipe()):"scroll"==this.options.viewMode?(this.options.singlePageMode=!0,this.Book=new FLIPBOOK.BookScroll(this.book[0],this.bookLayer[0],this,o),this.initSwipe()):("2d"!=this.options.viewMode&&(this.options.viewMode="3d"),this.Book=new FLIPBOOK.Book3(this.book[0],this,o),this.initSwipe(),this.webglMode=!1,this.initSound());this.resize(),this.Book.enable(),this.book.hide().fadeIn("slow"),this.tocCreated=!1,this.createMenu(),this.onZoom(this.options.zoomMin),1==this.options.pages.length&&(this.rightToLeft=!1),FLIPBOOK.books=FLIPBOOK.books||{},FLIPBOOK.books[t.id]=t.Book;var d=jQuery(t.Book);d.bind("loadPagesFromPdf",(function(e,o,i,n){t.loadPagesFromPdf(o,i,n)})),d.bind("turnPageComplete",(function(e){t.turnPageComplete()})),d.bind("initEasing",(function(e){t.initEasing()})),d.bind("playFlipSound",(function(e){t.playFlipSound()})),d.bind("closeLightbox",(function(e){t.closeLightbox()})),d.bind("updateCurrentPage",(function(e){t.updateCurrentPage()})),this.createLogo(),this.onBookCreated()},initNotes:function(){this.noteService=new FLIPBOOK.Notes(this);const t=this;e.addEventListener("r3d-update-note-visibility",(function(e){t.options.noteTypes.forEach((function(t){e.detail.id==t.id&&(t.enabled=e.detail.enabled)})),t.noteService.updateNoteVisibility()}))},createTooltip:function(){this.tooltip=new FLIPBOOK.Tooltip,this.wrapper[0].appendChild(this.tooltip.domElement)},showTooltip:function(t){this.tooltip.show(t)},hideTooltip:function(){this.tooltip.hide()},addPageItems:function(){const t=this.options.pages;let e;for(let i in t){let n=t[i];if(n.htmlContent=n.htmlContent||"",n.items)for(let t of n.items){const{autoplay:i=!0,controls:s=!1,loop:a=!0,muted:r=!0,src:l,url:h=l,x:d=0,y:p=0,width:c=100,height:g=100,type:u}=t,b=i?"autoplay":"",m=s?"controls":"",f=a?"loop":"",v=r?"muted":"";switch(u){case"iframe":case"youtube":if(h.includes("<iframe"))n.htmlContent+=`\n\t\t\t\t\t\t\t\t\t\t<div class="flipbook-page-item" \n\t\t\t\t\t\t\t\t\t\tstyle="top:${p}px;left:${d}px;width:${c}px;height:${g}px;">\n\t\t\t\t\t\t\t\t\t\t\t${h}\n\t\t\t\t\t\t\t\t\t\t</div>`;else{const e=t=>t.includes("youtu.be/")?t.replace("youtu.be/","youtube.com/embed/"):t.includes("youtube.com/watch?v=")?t.split("&")[0].replace("/watch?v=","/embed/"):t;t.url=e(h)+"?enablejsapi=1",i&&(t.url+="&autoplay=1&mute=1"),n.htmlContent+=`\n\t\t\t\t\t\t\t\t\t\t<iframe class="flipbook-page-item flipbook-youtube" src="${t.url}" \n\t\t\t\t\t\t\t\t\t\t\tstyle="top:${p}px;left:${d}px;width:${c}px;height:${g}px;" \n\t\t\t\t\t\t\t\t\t\t\tframeborder="0" allow="accelerometer; autoplay; encrypted-media; \n\t\t\t\t\t\t\t\t\t\t\tgyroscope; picture-in-picture" allowfullscreen></iframe>`}break;case"link":e=o.createElement("a"),e.className="flipbook-page-item flipbook-page-item-link",e.style.cssText=`\n\t\t\t\t\t\t\t\t\twidth:${c}px;height:${g}px;position:absolute;top:${p}px;left:${d}px;`,t.content&&(e.innerHTML=t.content),h?(e.href=h,e.target=t.target||this.options.linkTarget):t.page&&(e.href="#",e.classList.add("internalLink"),e.dataset.page=t.page),n.htmlContent+=e.outerHTML;break;case"spotlight":e=o.createElement("a"),e.className="flipbook-page-item flipbook-page-item-link spotlight",e.style.cssText=`\n\t\t\t\t\t\t\t\t\t\twidth:${c}px;height:${g}px;position:absolute;top:${p}px;left:${d}px;`,e.href="#",e.dataset.url=t.url,t.title&&(e.dataset.title=t.title),t.description&&(e.dataset.description=t.description),n.htmlContent+=e.outerHTML;break;case"image":n.htmlContent+=`\n\t\t\t\t\t\t\t\t\t<img class="flipbook-page-item" src="${h}" \n\t\t\t\t\t\t\t\t\t\tstyle="top:${p}px;left:${d}px;width:${c}px;height:${g}px;"\n\t\t\t\t\t\t\t\t\t>`;break;case"video":n.htmlContent+=`\n\t\t\t\t\t\t\t\t\t<video class="flipbook-page-item" playsinline \n\t\t\t\t\t\t\t\t\t${f} ${b} ${m} ${v} \n\t\t\t\t\t\t\t\t\tstyle="top:${p}px;left:${d}px;width:${c}px;height:${g}px;">\n                    \t\t\t\t\t<source type="video/mp4" src="${h}">\n                        \t\t\t</video>`;break;case"audio":n.htmlContent+=`\n\t\t\t\t\t\t\t\t\t<audio ${f} ${b} ${m} \n\t\t\t\t\t\t\t\t\tclass="flipbook-page-item" \n\t\t\t\t\t\t\t\t\tstyle="top:${p}px;left:${d}px;width:${c}px;height:${g}px;">\n\t\t\t\t\t\t\t\t\t\t<source src="${h}" type="audio/mpeg">\n\t\t\t\t\t\t\t\t\t</audio>`}}}},spotlight:function(t,e,i){let n=o.querySelector(".flipbook-spotlight-overlay");function s(){const t=n.querySelector("video, iframe");t&&("video"===t.tagName.toLowerCase()?t.pause():t.src=t.src)}if(n){const t=n.querySelector("img, video, iframe");t&&n.removeChild(t)}else{n=o.createElement("div"),n.className="flipbook-spotlight-overlay";const t=o.createElement("button");t.className="flipbook-spotlight-close-button",t.innerHTML='\n\t\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M6 6L18 18" stroke="white" stroke-width="2"\n\t\t\t\t\t\t\t stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t<path d="M6 18L18 6" stroke="white" stroke-width="2"\n\t\t\t\t\t\t\t stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t',t.onclick=()=>{s(),n.style.display="none"},n.addEventListener("click",(e=>{[n,t].includes(e.target)&&(s(),n.style.display="none")})),n.appendChild(t),this.wrapper[0].appendChild(n)}const a=t=>t.includes("youtu.be/")?t.replace("youtu.be/","youtube.com/embed/"):t.includes("youtube.com/watch?v=")?t.split("&")[0].replace("/watch?v=","/embed/"):t,r=(t,e)=>{const i=o.createElement(t);for(let t in e)"style"===t?i.style.cssText=e[t]:i[t]=e[t];return i};let l;if(t.endsWith(".mp4"))l=r("video",{src:t,controls:!0,style:"max-width: 80%; max-height: 80%;",className:"flipbook-spotlight-video"});else if(t.includes("youtube.com")||t.includes("youtu.be"))l=r("iframe",{src:a(t)+"?enablejsapi=1&autoplay=1&mute=1",style:"width: 80vw; height: 45vw; max-width: 960px; max-height: 540px;\n\t\t\t\t\t\t min-width: 300px; min-height: 168.75px;",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullscreen:!0});else{if(!(t.endsWith(".jpg")||t.endsWith(".jpeg")||t.endsWith(".png")||t.endsWith(".gif")||t.endsWith(".bmp")||t.endsWith(".webp")))return;l=r("img",{src:t,style:"max-width: 80%; max-height: 80%;"})}if(n.appendChild(l),n.style.display="flex",e||i){let t=n.querySelector(".flipbook-spotlight-caption-container");t||(t=r("div",{className:"flipbook-spotlight-caption-container"})),n.appendChild(t),t.innerHTML="",e&&(t.innerHTML+='<div class="flipbook-spotlight-title">'+e+"</div>"),i&&(t.innerHTML+='<div class="flipbook-spotlight-description">'+i+"</div>")}},onBookCreated:function(){var t=this.options,i=this;!t.cover&&Number(t.startPage)<2&&(t.startPage=2);var n=o.documentElement;n.style.setProperty("--flipbook-link-color",this.options.linkColor),n.style.setProperty("--flipbook-link-color-hover",this.options.linkColorHover),n.style.setProperty("--flipbook-link-opacity",this.options.linkOpacity),jQuery(e).resize((function(){i.resize()})),this.resize(),t.rightToLeft?this.goToPage(Number(t.pages.length-Number(t.startPage)+1),!0):this.goToPage(Number(t.startPage),!0),this.Book.updateVisiblePages(),this.Book.zoomTo(t.zoomMin),this.updateCurrentPage(),this.playBgMusic(),o.addEventListener("keydown",(function(t){if(i.Book.enabled&&(i.options.lightBox||!o.body.classList.contains("flipbook-overflow-hidden"))&&(i.fullscreenActive||!o.body.classList.contains("flipbook-fullscreen"))&&(i.options.arrowsAlwaysEnabledForNavigation&&(37==t.keyCode||39==t.keyCode)||!i.options.lightBox&&!i.fullscreenActive&&(i.options.arrowsDisabledNotFullscreen||i.bodyHasVerticalScrollbar()))){switch((t=t||e.event).keyCode){case 37:i.zoom>1?i.moveBook("left"):i.prevPage();break;case 38:i.zoom>1?i.moveBook("up"):i.nextPage();break;case 39:i.zoom>1?i.moveBook("right"):i.nextPage();break;case 33:i.prevPage();break;case 34:i.nextPage();break;case 36:i.firstPage();break;case 35:i.lastPage();break;case 40:i.zoom>1?i.moveBook("down"):i.prevPage();break;case 107:case 187:i.zoomIn();break;case 109:case 189:i.zoomOut()}return!1}})),o.addEventListener("MSFullscreenChange",(function(t){i.handleFsChange()})),o.addEventListener("mozfullscreenchange",(function(t){i.handleFsChange()})),o.addEventListener("webkitfullscreenchange",(function(t){i.handleFsChange()})),o.addEventListener("fullscreenchange",(function(t){i.handleFsChange()})),t.lightboxCloseOnBack&&(e.onpopstate=function(){i.Book.enabled&&FLIPBOOK.lightboxOpened&&(e.location.hash||i.lightbox.closeLightbox(!0))}),this.bookLayer.bind("DOMMouseScroll",(function(t){if(i.Book.enabled&&(i.options.lightBox||i.fullscreenActive||!i.options.wheelDisabledNotFullscreen&&!i.bodyHasVerticalScrollbar()))return t.stopPropagation(),t.preventDefault(),t.originalEvent.detail>0?i.zoomOut(t.originalEvent):i.zoomIn(t.originalEvent),!1})),this.bookLayer.bind("mousewheel",(function(t){if(i.Book.enabled&&(i.options.lightBox||i.fullscreenActive||!i.options.wheelDisabledNotFullscreen&&!i.bodyHasVerticalScrollbar()))return"scroll"!=i.options.viewMode?(t.stopPropagation(),t.preventDefault(),t.originalEvent.wheelDelta<0?i.zoomOut(t.originalEvent):i.zoomIn(t.originalEvent),!1):void 0})),"scroll"==this.options.viewMode?(this.setTool("toolSelect"),this.options.btnSelect.enabled=!1):this.setTool("toolMove"),i.options.contentOnStart?i.toggleToc(!0):i.options.thumbnailsOnStart?i.toggleThumbs(!0):i.options.searchOnStart&&(i.toggleSearch(!0),"string"==typeof i.options.searchOnStart&&i.thumbs.$findInput.val(i.options.searchOnStart).trigger("keyup")),t.autoplayOnStart&&i.toggleAutoplay(!0),i.options.lightBox&&i.Book.disable(),i.initColors(),setTimeout((function(){i.resize(),i.Book.updateVisiblePages(),i.Book.zoomTo(t.zoomMin)}),500),t.onbookcreated&&t.onbookcreated.call(this)},initSound:function(){this.options.flipSound&&(this.flipSound=jQuery('<audio><source src="'+this.options.assets.flipMp3+'" type="audio/mpeg"></audio>')[0]),this.options.backgroundMusic&&(this.backgroundMusic=jQuery('<audio autoplay><source src="'+this.options.backgroundMusic+'" type="audio/mpeg"></audio>')[0])},touchSwipe:function(t,e){let o,i,n,s,a=!1,r=!1,l=0,h=!1;function d(t){if(t.length<2)return 0;let e=t[0].clientX-t[1].clientX,o=t[0].clientY-t[1].clientY;return Math.sqrt(e*e+o*o)}function p(t,e){return{distanceX:t-o,distanceY:e-i}}function c(t){return t.type.includes("mouse")?t:t.touches[0]}function g(n){if("touchstart"===n.type)h=!0;else if("mousedown"===n.type&&h)return;let r=c(n);o=r.clientX,i=r.clientY,s=(new Date).getTime(),a=!0,l=n.touches?n.touches.length:1,e(n,"start",null,0,0,l),t.addEventListener("mousemove",u),t.addEventListener("touchmove",u,{passive:!1})}function u(t){let o=c(t),{distanceX:i,distanceY:s}=p(o.clientX,o.clientY);if(a&&"mousemove"===t.type)t.preventDefault(),e(t,"move",i,s,0,1);else if(t.touches&&2===t.touches.length){let o;if("number"==typeof t.scale)o=t.scale;else{let e=d(t.touches);r?o=e/n:(r=!0,n=e,o=1)}r?e(t,"pinch",o,null,0,2):(r=!0,n=d(t.touches),e(t,"pinchstart",o,null,0,2))}else t.touches&&1===t.touches.length&&e(t,"move",i,s,0,1)}function b(t){"touchend"!==t.type&&"mouseup"!==t.type||setTimeout((function(){h=!1}),300);let o=t.changedTouches?t.changedTouches[0]:t,{distanceX:i,distanceY:n}=p(o.clientX,o.clientY),l=(new Date).getTime()-s;a&&(a=!1,e(t,"end",i,n,l,t.changedTouches?t.changedTouches.length:1)),r&&(r=!1,e(t,"pinchend",null,0,0,2)),f()}function m(t){setTimeout((function(){h=!1}),300),a&&(a=!1,e(t,"cancel",null,0,0,1)),r&&(r=!1,e(t,"pinchcancel",null,0,0,2)),f()}function f(){t.removeEventListener("mousemove",u),t.removeEventListener("touchmove",u)}t.addEventListener("mousedown",g),t.addEventListener("touchstart",g),t.addEventListener("mouseup",b),t.addEventListener("touchend",b),t.addEventListener("mouseleave",m),t.addEventListener("touchcancel",m)},initSwipe:function(){var t=this;this.touchSwipe(this.bookLayer[0],(function(e,o,i,n,s,a){let r=!1;if("start"==o){t.zoomStart=t.zoom;try{t.currentPageInput.trigger("blur")}catch(e){}}if(a>1&&"pinch"==o){let o=i;e.scale&&(o=e.scale),t.zoomTo(t.zoomStart*o,0,e)}if(!t.options.sideNavigationButtons||e.target!==t.arrowL[0]&&e.target!==t.arrowR[0]){if(("end"==o||"cancel"==o)&&s<200&&i<10){if("toolMove"==t.tool||"scroll"==t.options.viewMode&&!t.options.doubleClickZoomDisabled)if(t.clickTimer){clearTimeout(t.clickTimer),delete t.clickTimer;var l=t.options.zoomTime;r=!0,t.zoom>=t.options.zoomMax?t.zoomTo(t.options.zoomMin,l,e):t.zoomTo(t.options.zoomMax,l,e)}else t.clickTimer=setTimeout((function(){delete t.clickTimer}),300)}else if("toolSelect"==t.tool||t.options.pageDragDisabled)return;r||t.Book.onSwipe(e,o,i,n,s,a)}})),this.swipeEnabled=!0},toggleMenu:function(){this.menuShowing?(this.menuShowing=!1,this.bookLayer.css("bottom","0px"),this.menuBottom.fadeOut(),this.currentPageHolder.fadeOut(),jQuery(".flipbook-nav").fadeOut(),this.Book.onResize()):(this.menuShowing=!0,this.bookLayer.css("bottom",this.menuBottom.height()+"px"),this.menuBottom.fadeIn(),this.currentPageHolder.fadeIn(),jQuery(".flipbook-nav").fadeIn(),this.Book.onResize())},createSVGIcon:function(t,e,o){var i=jQuery({pause:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><path d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>',minus:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"/></svg>',select:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 256 512"><path d="M.1 29.3C-1.4 47 11.7 62.4 29.3 63.9l8 .7C70.5 67.3 96 95 96 128.3V224H64c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v95.7c0 33.3-25.5 61-58.7 63.8l-8 .7C11.7 449.6-1.4 465 .1 482.7s16.9 30.7 34.5 29.2l8-.7c34.1-2.8 64.2-18.9 85.4-42.9c21.2 24 51.2 40.1 85.4 42.9l8 .7c17.6 1.5 33.1-11.6 34.5-29.2s-11.6-33.1-29.2-34.5l-8-.7C185.5 444.7 160 417 160 383.7V288h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H160V128.3c0-33.3 25.5-61 58.7-63.8l8-.7c17.6-1.5 30.7-16.9 29.2-34.5S239-1.4 221.3 .1l-8 .7C179.2 3.6 149.2 19.7 128 43.7c-21.2-24-51.2-40-85.4-42.9l-8-.7C17-1.4 1.6 11.7 .1 29.3z"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"/></svg>',list:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M24 56c0-13.3 10.7-24 24-24H80c13.3 0 24 10.7 24 24V176h16c13.3 0 24 10.7 24 24s-10.7 24-24 24H40c-13.3 0-24-10.7-24-24s10.7-24 24-24H56V80H48C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432H120c13.3 0 24 10.7 24 24s-10.7 24-24 24H32c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>',thumbs:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M448 96V224H288V96H448zm0 192V416H288V288H448zM224 224H64V96H224V224zM64 288H224V416H64V288zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"/></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"/></svg>',pdf:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V304H176c-35.3 0-64 28.7-64 64V512H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56H192v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V448 368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H192v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H304c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H320v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V432 368z"/></svg>',sound:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512"><path d="M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"/></svg>',mute:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"/></svg>',compress:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>',last:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>',whatsapp:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>',pinterest:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512"><path d="M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"/></svg>',email:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"/></svg>',digg:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M81.7 172.3H0v174.4h132.7V96h-51v76.3zm0 133.4H50.9v-92.3h30.8v92.3zm297.2-133.4v174.4h81.8v28.5h-81.8V416H512V172.3H378.9zm81.8 133.4h-30.8v-92.3h30.8v92.3zm-235.6 41h82.1v28.5h-82.1V416h133.3V172.3H225.1v174.4zm51.2-133.3h30.8v92.3h-30.8v-92.3zM153.3 96h51.3v51h-51.3V96zm0 76.3h51.3v174.4h-51.3V172.3z"/></svg>',reddit:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"/></svg>'}[t]).attr("aria-hidden","true").addClass("flipbook-icon flipbook-menu-btn skin-color");return o||i.addClass("skin-color-bg"),e&&i.addClass("flipbook-icon-reverse"),i},createButton:function(t){var e=this.options,i="top"==t.vAlign&&e.menu2Transparent||"top"!=t.vAlign&&e.menuTransparent,n=t.background||(i?e.floatingBtnBackground:e.btnBackground),s=t.backgroundHover||(i?e.floatingBtnBackgroundHover:e.btnBackgroundHover),a=t.color||(i?e.floatingBtnColor:e.btnColor),r=t.colorHover||(i?e.floatingBtnColorHover:e.btnColorHover),l=i?e.floatingBtnTextShadow:e.btnTextShadow,h=t.radius||(i?e.floatingBtnRadius:e.btnRadius),d=t.border||(i?e.floatingBtnBorder:e.btnBorder),p=i?e.floatingBtnMargin:e.btnMargin,c=e.btnPaddingV+2,g=e.btnPaddingH+2,u=jQuery(o.createElement("span")),b="material"==e.icons?(t.size||e.btnSize)+8:t.size||e.btnSize;function m(t){t.css({"font-size":b+"px",margin:p+"px",padding:c+"px "+g+"px","border-radius":h+"px","box-shadow":e.btnShadow,border:d,color:a,fill:a,background:n,"text-shadow":l}),r&&t.hover((function(){this.style.fill=r}),(function(){this.style.fill=a})),a&&t.removeClass("skin-color"),n&&t.removeClass("skin-color-bg")}const f=t.svg||t.name.replace("btn","").toLowerCase();var v;u.$icon=this.createSVGIcon(f,t.iconReverse).appendTo(u),m(u.$icon),t.svgAlt&&(u.$iconAlt=this.createSVGIcon(t.svgAlt,t.iconReverse).appendTo(u).hide(),m(u.$iconAlt)),t.onclick&&u.bind("tap click",(function(e){t.onclick()})),(r||s)&&u.mouseenter((function(){Array.from(this.children).forEach((function(t){t.style.color=r,t.style.background=s}))})).mouseleave((function(){Array.from(this.children).forEach((function(t){t.style.color=a,t.style.background=n}))}));return v="top"==t.vAlign?e.menu2Floating?this.menuTC:"left"==t.hAlign?this.menuTL:"right"==t.hAlign?this.menuTR:this.menuTC:e.menuFloating?this.menuBC:"left"==t.hAlign?this.menuBL:"right"==t.hAlign?this.menuBR:this.menuBC,u.attr("data-name",t.name).appendTo(v).attr("title",t.title).addClass("").css("order",t.order),u},createMenu:function(){if(!this.menuBottom){var t=this.options,e=t.menuFloating?"flipbook-menu-floating":"flipbook-menu-fixed",i=t.menu2Floating?"flipbook-menu-floating":"flipbook-menu-fixed",n=this;this.menuBottom=jQuery(o.createElement("div")).addClass("flipbook-menuBottom").addClass(e).appendTo(this.wrapper).css({background:t.menuBackground,"box-shadow":t.menuShadow,margin:t.menuMargin+"px",padding:t.menuPadding+"px"}),t.menuTransparent||t.menuBackground||this.menuBottom.addClass("skin-color-bg"),t.hideMenu&&this.menuBottom.hide(),this.menuTop=jQuery(o.createElement("div")).addClass("flipbook-menuTop").addClass(i).appendTo(this.wrapper).css({background:t.menu2Background,"box-shadow":t.menu2Shadow,margin:t.menu2Margin+"px",padding:t.menu2Padding+"px"}),t.menu2Transparent||t.menu2Background||this.menuTop.addClass("skin-color-bg"),"swipe"==t.viewMode&&(t.btnSound.enabled=!1),this.menuBL=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-left").appendTo(this.menuBottom),this.menuBC=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-center").appendTo(this.menuBottom),this.menuBR=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-right").appendTo(this.menuBottom),this.menuTL=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-left").appendTo(this.menuTop),this.menuTC=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-center").appendTo(this.menuTop),this.menuTR=jQuery(o.createElement("div")).addClass("flipbook-menu flipbook-menu-right").appendTo(this.menuTop),t.isMobile&&(void 0!==t.btnTocIfMobile&&(t.btnToc.hideOnMobile=!t.btnTocIfMobile),void 0!==t.btnThumbsIfMobile&&(t.btnThumbs.hideOnMobile=!t.btnThumbsIfMobile),void 0!==t.btnShareIfMobile&&(t.btnShare.hideOnMobile=!t.btnShareIfMobile),void 0!==t.btnDownloadPagesIfMobile&&(t.btnDownloadPages.hideOnMobile=!t.btnDownloadPagesIfMobile),void 0!==t.btnDownloadPdfIfMobile&&(t.btnDownloadPdf.hideOnMobile=!t.btnDownloadPdfIfMobile),void 0!==t.btnSoundIfMobile&&(t.btnSound.hideOnMobile=!t.btnSoundIfMobile),void 0!==t.btnExpandIfMobile&&(t.btnExpand.hideOnMobile=!t.btnExpandIfMobile),void 0!==t.btnPrintIfMobile&&(t.btnPrint.hideOnMobile=!t.btnPrintIfMobile)),t.sideNavigationButtons&&(this.btnNext=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(this.bookLayer).bind("tap click",(function(t){n.btnNext.disabled||(n.btnNext.disabled=!0,setTimeout((function(){n.btnNext.disabled=!1}),300),t.stopPropagation(),t.preventDefault(),n.nextPage())})),this.arrowR=this.createSVGIcon("next").appendTo(this.btnNext.first()).addClass("flipbook-right-arrow").css({width:t.sideBtnSize+"px",height:t.sideBtnSize+"px","font-size":t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(-t.sideBtnSize/2)+"px","margin-right":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,fill:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowR.removeClass("skin-color"),t.sideBtnBackground&&this.arrowR.removeClass("skin-color-bg"),this.btnPrev=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(n.bookLayer).bind("tap click",(function(t){n.btnPrev.disabled||(n.btnPrev.disabled=!0,setTimeout((function(){n.btnPrev.disabled=!1}),300),t.stopPropagation(),t.preventDefault(),n.prevPage())})),this.arrowL=this.createSVGIcon("next",!0).appendTo(this.btnPrev.first()).addClass("flipbook-left-arrow").css({width:t.sideBtnSize+"px",height:t.sideBtnSize+"px","font-size":t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(-t.sideBtnSize/2)+"px","margin-left":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,fill:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowL.removeClass("skin-color"),t.sideBtnBackground&&this.arrowL.removeClass("skin-color-bg"),t.btnFirst.enabled&&(this.btnFirst=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(this.bookLayer).bind("tap click",(function(t){n.btnFirst.disabled||(n.btnFirst.disabled=!0,setTimeout((function(){n.btnFirst.disabled=!1}),300),t.stopPropagation(),t.preventDefault(),n.firstPage())})),this.arrowFirst=this.createSVGIcon("last",!0).appendTo(this.btnFirst.first()).addClass("flipbook-first-arrow").css({width:t.sideBtnSize+"px",height:.66*t.sideBtnSize+"px","font-size":.66*t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(t.sideBtnSize/2+t.sideBtnMargin+2*t.sideBtnPaddingV)+"px","margin-left":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,fill:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowFirst.removeClass("skin-color"),t.sideBtnBackground&&this.arrowFirst.removeClass("skin-color-bg")),t.btnLast.enabled&&(this.btnLast=jQuery('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"></div></div>').appendTo(n.bookLayer).bind("tap click",(function(t){n.btnLast.disabled||(n.btnLast.disabled=!0,setTimeout((function(){n.btnLast.disabled=!1}),300),t.stopPropagation(),t.preventDefault(),n.lastPage())})),this.arrowLast=this.createSVGIcon("last").appendTo(this.btnLast.first()).addClass("flipbook-last-arrow").css({width:t.sideBtnSize+"px",height:.66*t.sideBtnSize+"px","font-size":.66*t.sideBtnSize+"px","border-radius":t.sideBtnRadius+"px","margin-top":String(t.sideBtnSize/2+t.sideBtnMargin+2*t.sideBtnPaddingV)+"px","margin-right":t.sideBtnMargin+"px",padding:t.sideBtnPaddingV+"px "+t.sideBtnPaddingH+"px","text-shadow":t.sideBtnTextShadow,"box-shadow":t.sideBtnShadow,border:t.sideBtnBorder,color:t.sideBtnColor,fill:t.sideBtnColor,background:t.sideBtnBackground,"box-sizing":"initial"}),t.sideBtnColor&&this.arrowLast.removeClass("skin-color"),t.sideBtnBackground&&this.arrowLast.removeClass("skin-color-bg")),t.menuNavigationButtons||(t.btnOrder.indexOf("btnFirst")>=0&&t.btnOrder.splice(t.btnOrder.indexOf("btnFirst"),1),t.btnOrder.indexOf("btnPrev")>=0&&t.btnOrder.splice(t.btnOrder.indexOf("btnPrev"),1),t.btnOrder.indexOf("btnNext")>=0&&t.btnOrder.splice(t.btnOrder.indexOf("btnNext"),1),t.btnOrder.indexOf("btnLast")>=0&&t.btnOrder.splice(t.btnOrder.indexOf("btnLast"),1))),t.pdfMode&&!t.btnDownloadPdf.url&&(t.btnDownloadPdf.url=t.pdfUrl),!t.pdfTextLayer&&t.btnSelect&&(t.btnSelect.enabled=!1),!t.pdfTextLayer&&t.btnSearch&&(t.btnSearch.enabled=!1),"scroll"==t.viewMode&&(t.btnSelect.enabled=!1);for(var s=0;s<t.btnOrder.length;s++){var a=t.btnOrder[s],r=t[a];t.isMobile&&r.hideOnMobile&&(r.enabled=!1),r.enabled&&(r.name=a,"currentPage"==r.name?this.createCurrentPage():"search"==r.name?(this.$search=jQuery('<div class="flipbook-findbar"><div><input class="toolbarField" title="Find" autocapitalize="none" placeholder="'+t.strings.findInDocument+'..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.menuTL),this.$search.find("input").on("change",(function(){n.toggleSearch(!0),n.thumbs.$findInput.val(this.value).trigger("keyup"),this.value=""})),this.menuTL[0].style.flexDirection="column",this.menuTL[0].style.alignItems="flex-start"):"btnClose"==a?this.btnClose=this.createButton(r).bind("touchend click",(function(t){t.stopPropagation(),t.preventDefault(),n.onButtonClick(this,t)})):this[a]=this.createButton(r).bind("touchend click",(function(t){t.stopPropagation(),t.preventDefault(),n.onButtonClick(this,t)})))}t.buttons&&t.buttons.forEach((t=>{n.createButton(t).index(1)}))}},onButtonClick:function(t,i){var n=jQuery(t).attr("data-name"),s=this.options;switch(n){case"btnFirst":this.firstPage();break;case"btnPrev":this.prevPage();break;case"btnNext":this.nextPage();break;case"btnLast":this.lastPage();break;case"btnZoomIn":this.zoomIn();break;case"btnZoomOut":this.zoomOut();break;case"btnAutoplay":this.autoplay||this.nextPage(),this.toggleAutoplay();break;case"btnSearch":this.toggleSearch();break;case"btnBookmark":this.toggleBookmark();break;case"btnRotateLeft":this.Book.rotateLeft&&this.Book.rotateLeft();break;case"btnRotateRight":this.Book.rotateRight&&this.Book.rotateRight();break;case"btnToc":this.toggleToc();break;case"btnThumbs":this.toggleThumbs();break;case"btnShare":this.toggleShareMenu();break;case"btnNotes":this.toggleNotesMenu();break;case"btnDownloadPages":if(s.downloadMenu)this.toggleDownloadMenu();else{var a=o.createElement("a");a.href=s.btnDownloadPages.url,a.download=s.btnDownloadPages.name,a.dispatchEvent(new MouseEvent("click"))}break;case"btnPrint":s.printMenu?this.togglePrintMenu():this.togglePrintWindow();break;case"btnDownloadPdf":if(s.btnDownloadPdf.forceDownload){var r=s.btnDownloadPdf.url,l=o.createElement("a");l.href=r;var h=l.href.split("/").pop().split("#")[0].split("?")[0];l.download=h,o.body.appendChild(l),l.click(),o.body.removeChild(l)}else{var d=s.btnDownloadPdf.openInNewWindow||(s.btnDownloadPdf.openInNewWindow,1)?"_blank":"_self";e.open(s.btnDownloadPdf.url,d)}this.sendGAEvent({event:`Flipbook : ${this.options.name}`,action:"PDF Download",label:s.btnDownloadPdf.url||s.pdfUrl});break;case"btnSound":this.toggleSound();break;case"btnSelect":this.toggleTool();break;case"btnExpand":this.toggleExpand();break;case"btnClose":this.lightbox.closeLightbox()}},handleFsChange:function(t){if(this.Book&&this.Book.enabled){var e=jQuery(this.fullscreenElement);(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement)===this.fullscreenElement||this.isFullscreen?(t&&(e.addClass("flipbook-browser-fullscreen"),this.fullscreenElement.parentNodeOld=this.fullscreenElement.parentNode,this.options.lightBox||e.appendTo(jQuery("body"))),this.fullscreenActive=!0,this.options.onfullscreenenter&&this.options.onfullscreenenter.call(this),o.body.classList.add("flipbook-fullscreen")):(t&&(e.removeClass("flipbook-browser-fullscreen"),this.options.lightBox||e.appendTo(jQuery(this.fullscreenElement.parentNodeOld))),this.fullscreenActive=!1,this.options.onfullscreenexit&&this.options.onfullscreenexit.call(this),o.body.classList.remove("flipbook-fullscreen")),this.triggerResizeOnce(),this.toggleIcon(this.btnExpand,!this.fullscreenActive)}},createLogo:function(){var t=this.options;if(t.logoImg&&(!t.isMobile||!t.logoHideOnMobile)){var o=jQuery("<img>").attr("src",t.logoImg).attr("style",t.logoCSS).appendTo(this.wrapper);"right"==t.logoAlignH&&o.css("right","0"),"bottom"==t.logoAlignV&&o.css("bottom","0"),t.logoUrl&&o.css("cursor","pointer").bind("touchend click",(function(o){o.stopPropagation(),o.preventDefault(),e.open(t.logoUrl,t.logoUrlTarget||"_blank")}))}},setLoadingProgress:function(t){this.disposed||(this.$fillPreloader?this.setFillPreloaderProgress(t):t>0&&t<1?jQuery(this.preloader).stop(!0,!0).show():jQuery(this.preloader).stop(!0,!0).hide())},setFillPreloaderProgress:function(t){if(this.$fillPreloader)if(t>0&&t<1){if(this.fillPreloaderProgress=this.fillPreloaderProgress||0,t<this.fillPreloaderProgress)return;this.fillPreloaderProgress=t;var e=this.$fillPreloaderImg[0];e.style.clip="rect(0px,"+e.width*t+"px,"+e.height+"px,0px)",this.$fillPreloader.show()}else this.$fillPreloader.hide()},playFlipSound:function(){if(this.options.sound&&this.Book.enabled&&void 0!==this.flipSound.play){this.flipSound.currentTime=0;var t=this;setTimeout((function(){t.flipSound.play().then((function(){}),(function(){}))}),70)}},playBgMusic:function(){if(this.options.sound&&this.backgroundMusic&&this.backgroundMusic.play){var t=this;this.backgroundMusic.play().then((function(){}),(function(e){setTimeout((function(){t.playBgMusic()}),100)}))}},onMouseWheel:function(t){if("wheelDeltaX"in t)wheelDeltaX=t.wheelDeltaX/12,wheelDeltaY=t.wheelDeltaY/12;else if("wheelDelta"in t)wheelDeltaX=wheelDeltaY=t.wheelDelta/12;else{if(!("detail"in t))return;wheelDeltaX=wheelDeltaY=3*-t.detail}wheelDeltaX>0?this.zoomIn(t):this.zoomOut(t)},zoomTo:function(t,e,o){var i,n;this.zoom=t,void 0===o?(i=this.wrapperW/2,n=this.wrapperH/2):(o.touches&&o.touches[0]?(i=o.touches[0].pageX,n=o.touches[0].pageY):o.changedTouches&&o.changedTouches[0]?(i=o.changedTouches[0].pageX,n=o.changedTouches[0].pageY):(i=o.pageX,n=o.pageY),i-=this.wrapper.offset().left,n-=this.wrapper.offset().top);const s=this.getZoomMin();this.zoom<s&&(this.zoom=s),this.zoom>this.options.zoomMax&&(this.zoom=this.options.zoomMax),this.options.zoomMax2&&this.zoom>this.options.zoomMax2&&(this.zoom=this.options.zoomMax2),this.Book.zoomTo(this.zoom,e,i,n),this.onZoom(this.zoom)},zoomOut:function(t){var e=this.zoom-.1*this.options.zoomStep;e<1&&this.zoom>1&&(e=1);const o=this.getZoomMin();if(e=e<o?o:e,this.zoom!=e){this.zoom=e;var i=this.options.zoomTime;this.zoomTo(this.zoom,i,t)}},zoomIn:function(t){var e=this.zoom+.1*this.options.zoomStep;e>1&&this.zoom<1&&(e=1),e>this.options.zoomMax&&(e=this.options.zoomMax),this.zoom!=e&&(this.zoom=e,this.zoomTo(this.zoom,this.options.zoomTime,t))},getZoomMin:function(){return"scroll"==this.options.viewMode?this.options.zoomMin2:this.options.zoomMin},nextPage:function(){this.Book&&this.Book.nextPage()},prevPage:function(){this.Book&&this.Book.prevPage()},firstPage:function(){this.goToPage(1)},lastPage:function(){this.goToPage(this.options.pages.length)},goToPage:function(t,e){this.options.cover||t++,t<1?t=1:t>this.options.numPages&&!this.options.rightToLeft&&(t=this.options.numPages),this.Book&&this.Book.goToPage(t,e)},moveBook:function(t){this.Book&&this.Book.move&&this.Book.move(t)},onZoom:function(t){this.zoom=t;const e=this.getZoomMin();this.enableButton(this.btnZoomIn,t<this.options.zoomMax),this.enableButton(this.btnZoomOut,t>e),this.enableSwipe(t<=1)},enableSwipe:function(t){this.swipeEnabled=t},createCurrentPage:function(){var t,e=this,i=this.options,n="flipbook-currentPageHolder ";t="top"==i.currentPage.vAlign?"left"==i.currentPage.hAlign?this.menuTL:"right"==i.currentPage.hAlign?this.menuTR:this.menuTC:"left"==i.currentPage.hAlign?this.menuBL:"right"==i.currentPage.hAlign?this.menuBR:this.menuBC;var s="top"==i.currentPage.vAlign&&i.menu2Transparent||"top"!=i.currentPage.vAlign&&i.menuTransparent,a=s?i.floatingBtnBackground:"",r=s?i.floatingBtnColor:i.btnColor,l=s?i.floatingBtnTextShadow:"",h=s?i.floatingBtnRadius:i.btnRadius,d=jQuery("<div>").appendTo(t);d.css("margin",i.currentPage.marginV+"px "+i.currentPage.marginH+"px"),s||(n+="skin-color "),d.addClass(n).css({color:r,background:a,"text-shadow":l,"border-radius":h+"px"}),i.currentPage.order&&d.css("order",i.currentPage.order),this.currentPageHolder=d,this.currentPage=jQuery(o.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(d);var p=jQuery("<form>").appendTo(d).submit((function(t){var o=parseInt(e.currentPageInput.val());return e.options.rightToLeft?(o=i.pages.length-o+1,o-=e.options.pageNumberOffset):(o=o>i.pages.length?i.pages.length:o,o+=e.options.pageNumberOffset),e.goToPage(o),e.currentPageInput.trigger("blur"),!1}));this.currentPageInput=jQuery('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").css({margin:i.currentPage.marginV+"px "+i.currentPage.marginH+"px",color:r}).appendTo(p).val("").focus((function(){e.currentPageInput.val(""),e.currentPage.addClass("flipbook-color-transparent")})).blur((function(){e.currentPageInput.val(""),e.currentPage.removeClass("flipbook-color-transparent")})),s||this.currentPageInput.addClass("skin-color")},createMenuHeader:function(t,e,o){var i=this,n=jQuery("<div>").addClass("flipbook-menu-header skin-clor flipbook-font").appendTo(t);jQuery("<span>").text(e).addClass("flipbook-menu-title skin-color").appendTo(n);var s=jQuery("<span>").appendTo(n).addClass("flipbook-btn-close").bind("touchend click",(function(t){t.stopPropagation(),t.preventDefault(),i.closeMenus()}));this.createSVGIcon("close",null,!0).appendTo(s)},createToc:function(){var t=this,e=this.options.tableOfContent;if(e&&e.length||!this.pdfService||this.pdfService.outlineLoaded){if(this.tocHolder=jQuery("<div>").addClass("flipbook-tocHolder flipbook-side-menu skin-color-bg").appendTo(this.wrapper).css(this.options.sideMenuPosition,"0").hide(),this.createMenuHeader(this.tocHolder,this.strings.tableOfContent,this.toggleToc),this.toc=jQuery("<div>").addClass("flipbook-toc").appendTo(this.tocHolder),this.tocScroller=jQuery("<div>").addClass("flipbook-toc-scroller").appendTo(this.toc),this.tocScroll=new FLIPBOOK.IScroll(t.toc[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),e&&e.length>0)for(var o=0;o<e.length;o++)this.createTocItem(e[o]);else{var i=this.options.pages;for(o=0;o<i.length;o++){var n=i[o].title;if(""!=n&&void 0!==n){var s={title:n,page:String(o+1)};this.createTocItem(s)}}}this.initColors(),this.tocScroll.refresh(),this.tocCreated=!0,this.toggleToc()}else t.pdfService.loadOutline((function(e){t.options.tableOfContent=e,t.createToc()}))},goToDest:function(t){var e=this;e.pdfService.pdfDocument.getPageIndex(t[0]).then((function(t){var o=t+1;e.options.doublePage&&(o=2*o-1),o=e.options.rightToLeft?e.options.pages.length-o+1:o,setTimeout((function(){e.goToPage(o)}),200)}))},createTocItem:function(t,e,i){var n=this;e=e||this.tocScroller;var s=this.options.rightToLeft,a=jQuery(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").css("direction",s?"rtl":"ltr").appendTo(e).bind("touchend click",(function(e){if(e.stopPropagation(),e.preventDefault(),!n.tocScroll.moved)if(n.options.tableOfContentCloseOnClick&&n.toggleToc(!1),!t.page&&t.dest)"string"==typeof t.dest?n.pdfService.pdfDocument.getDestination(t.dest).then((function(t){n.goToDest(t)})):n.goToDest(t.dest);else{var o=Number(t.page);o=n.options.rightToLeft?n.options.pages.length-o+1:o,setTimeout((function(){n.goToPage(o)}),200)}}));i||(i=0),a.level=i,a.css("padding","8px 0"),a.css("margin-"+(s?"right":"left"),"10px"),i?(a.css("margin-top","8px"),a.css("padding-bottom","0")):(a.css("margin-right","15px"),a.css("padding-left","10px"));var r=jQuery(o.createElement("span")).appendTo(a).css("width","20px").css("display","inline-block").css("cursor","auto").bind("touchend click",(function(t){t.stopPropagation(),t.preventDefault();for(var e=0;e<a.items.length;e++)a.items[e].toggle();l.toggle(),h.toggle(),n.tocScroll.refresh()})),l=this.createSVGIcon("next").appendTo(r).hide();s&&(l[0].style.transform="rotate(180deg)");var h=this.createSVGIcon("next").appendTo(r).hide();if(h[0].style.transform="rotate(90deg)",jQuery(o.createElement("span")).appendTo(a).addClass("title").text(t.title).css("width",String(170-10*a.level)+"px"),!t.pageHidden){var d=t.page;d&&jQuery(o.createElement("span")).appendTo(a).width("25px").css("display","inline-block").css("text-align","right").text(d)}if(t.items&&t.items.length){a.items=[];for(var p=0;p<t.items.length;p++){var c=this.createTocItem(t.items[p],a,a.level+1);a.items.push(c),c.hide()}l.show()}return a},enablePrev:function(t){this.enableButton(this.btnPrev,t),this.enableButton(this.btnFirst,t),this.Book.enablePrev(t)},enableNext:function(t){this.enableButton(this.btnNext,t),this.enableButton(this.btnLast,t),this.Book.enableNext(t)},enableButton:function(t,e){void 0!==t&&(e?(t.css("opacity","1"),t.css("pointer-events","auto")):(t.css("opacity","0.2"),t.css("pointer-events","none")),t.enabled=e)},resize:function(){var t=this.options;if(!this.wrapperH){var e=this.elem[0].cloneNode(!0);o.body.appendChild(e);var i=jQuery(e);if(this.wrapperW=i.width(),this.wrapperH=i.height(),!t.menuOverBook&&this.menuShowing&&this.menuBottom){var n=this.menuBottom[0].cloneNode(!0);o.body.appendChild(n),this.wrapperH-=jQuery(n).height(),o.body.removeChild(n)}o.body.removeChild(e)}if(this.Book&&this.Book.enabled){this.menuShowing&&(!t.menuOverBook&&this.menuBottom?this.bookLayer.css("bottom",this.menuBottom.outerHeight()+"px"):this.bookLayer.css("bottom","0px"),!t.menu2OverBook&&this.menuTop?this.bookLayer.css("top",this.menuTop.outerHeight()+"px"):this.bookLayer.css("top","0px")),this.tocShowing||this.thumbsShowing||this.searchShowing||this.bookmarkShowing?(t.sideMenuOverBook||this.bookLayer.css(this.options.sideMenuPosition,"250px"),this.options.sideMenuOverMenu||this.wrapper.find(".flipbook-side-menu").css("bottom",this.menuBottom.outerHeight()+"px"),this.options.sideMenuOverMenu2||this.wrapper.find(".flipbook-side-menu").css("top",this.menuTop.outerHeight()+"px")):this.bookLayer.css(this.options.sideMenuPosition,"0px"),this.wrapperW=this.bookLayer.width(),this.wrapperH=this.bookLayer.height();var s=this.wrapperW/this.wrapperH,a=this.pageW/this.pageH,r=2*a;"scroll"==t.viewMode?t.zoomMax=t.zoomSize*t.pageWidth/t.pageHeight*2/this.wrapperW:t.responsiveView&&this.wrapperW<=t.responsiveViewTreshold&&s<2*a&&s<t.responsiveViewRatio?t.zoomMax=s>a?t.zoomSize/this.wrapperH:t.zoomSize/this.wrapperH*(a/s):t.zoomMax=s>r?t.zoomSize/this.wrapperH:t.zoomSize/this.wrapperH*(r/s),t.zoomMax<t.zoomMin&&(t.zoomMax=t.zoomMin),this.Book.onResize(),this.options.zoomReset&&this.Book.zoomTo(this.options.zoomMin)}},pdfResize:function(){this.Book.onZoom()},createThumbs:function(){this.thumbs=new FLIPBOOK.Thumbnails(this)},toggleThumbs:function(t){this.thumbs||this.createThumbs(),void 0!==t&&(this.thumbsShowing=!t),this.thumbsShowing?(this.thumbs.hide(),this.thumbsShowing=!1):(this.closeMenus(),this.thumbs.show(),this.thumbsShowing=!0),this.resize()},toggleToc:function(t){this.tocCreated?(!this.tocShowing||t?(this.closeMenus(),this.tocShowing=!0,this.tocHolder.show(),this.tocScroll.refresh()):(this.tocHolder.hide(),this.tocShowing=!1),this.resize()):this.createToc()},toggleSearch:function(t){this.thumbs||this.createThumbs(),void 0!==t&&(this.searchShowing=!t),this.searchShowing?(this.thumbs.hide(),this.searchShowing=!1,this.unmark()):(this.closeMenus(),this.thumbs.show(),this.thumbs.showSearch(),this.searchShowing=!0),this.resize()},toggleBookmark:function(t){this.thumbs||this.createThumbs(),void 0!==t&&(this.bookmarkShowing=!t),this.bookmarkShowing?(this.thumbs.hide(),this.bookmarkShowing=!1):(this.closeMenus(),this.thumbs.show(),this.thumbs.showBookmarks(),this.bookmarkShowing=!0),this.resize()},closeMenus:function(){this.thumbsShowing&&this.toggleThumbs(),this.tocShowing&&this.toggleToc(),this.searchShowing&&this.toggleSearch(),this.bookmarkShowing&&this.toggleBookmark(),this.printMenuShowing&&this.togglePrintMenu(),this.dlMenuShowing&&this.toggleDownloadMenu(),this.shareMenuShowing&&this.toggleShareMenu(),this.notesMenuShowing&&this.toggleNotesMenu(),this.passwordMenuShowing&&this.togglePasswordMenu()},togglePrintMenu:function(){var t=this;if(this.printMenu)this.printMenuShowing?(this.printMenu.hide(),this.printMenuShowing=!1):(this.closeMenus(),this.printMenu.show(),this.printMenuShowing=!0,this.updateCurrentPage());else{this.printMenu=jQuery('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var e=jQuery('<div class="flipbook-sub-menu-center">').appendTo(this.printMenu),o=jQuery('<div class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);this.createMenuHeader(o,this.strings.print,this.togglePrintMenu),jQuery('<a><div class="c-p skin-color flipbook-btn">'+this.strings.printCurrentPage+"</div></a>").appendTo(o).bind("touchend click",(function(e){t.printPage(t.cPage[0],this)})),jQuery('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.printLeftPage+"</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click",(function(e){t.printPage(t.cPage[0],this)})),jQuery('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.printRightPage+"</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click",(function(e){t.printPage(t.cPage[1],this)})),jQuery('<a><div class="skin-color flipbook-btn">'+this.strings.printAllPages+"</div></a>").appendTo(o).bind("touchend click",(function(e){t.togglePrintWindow()})),this.closeMenus(),this.printMenuShowing=!0,this.initColors(),this.updateCurrentPage()}},toggleDownloadMenu:function(){var t=this;if(this.dlMenu)this.dlMenuShowing?(this.dlMenu.hide(),this.dlMenuShowing=!1):(this.dlMenu.show(),this.closeMenus(),this.dlMenuShowing=!0,this.updateCurrentPage());else{this.dlMenu=jQuery('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);var e=jQuery('<div class="flipbook-sub-menu-center">').appendTo(this.dlMenu),i=jQuery('<div class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);this.createMenuHeader(i,this.strings.download,this.toggleDownloadMenu),jQuery('<a><div class="c-p skin-color flipbook-btn">'+this.strings.downloadCurrentPage+"</div></a>").appendTo(i).bind("touchend click",(function(e){t.downloadPage(t.cPage[0],this)})),jQuery('<a><div class="c-l-p skin-color flipbook-btn">'+this.strings.downloadLeftPage+"</div></a>").appendTo(i).bind("touchend click",(function(e){t.downloadPage(t.cPage[0],this)})),jQuery('<a><div class="c-r-p skin-color flipbook-btn">'+this.strings.downloadRightPage+"</div></a>").appendTo(i).bind("touchend click",(function(e){t.downloadPage(t.cPage[1],this)})),jQuery('<a><div class="skin-color flipbook-btn">'+this.strings.downloadAllPages+"</div></a>").appendTo(i).bind("touchend click",(function(e){var i=o.createElement("a");i.href=t.options.btnDownloadPages.url;var n=i.href.split("/").pop().split("#")[0].split("?")[0];i.download=n,i.dispatchEvent(new MouseEvent("click"))})),this.closeMenus(),this.dlMenuShowing=!0,this.initColors(),this.updateCurrentPage()}},toggleShareMenu:function(){if(this.shareMenu)this.shareMenuShowing?(this.shareMenu.hide(),this.shareMenuShowing=!1):(this.shareMenu.show(),this.closeMenus(),this.shareMenuShowing=!0);else{this.shareMenu=jQuery(o.createElement("div")).appendTo(this.wrapper).addClass("flipbook-sub-menu flipbook-font");var t=jQuery(o.createElement("div")).appendTo(this.shareMenu).addClass("flipbook-sub-menu-center"),i=jQuery(o.createElement("div")).appendTo(t).addClass("flipbook-sub-menu-content skin-color-bg");this.createMenuHeader(i,this.options.strings.share,this.toggleShareMenu);var n=this.options,s=jQuery('<div class="flipbook-share"><ul></ul></div>').appendTo(i).find("ul"),a=e.screen.width/2-300,r=e.screen.height/2-300,l=this;["facebook","twitter","pinterest","linkedin","whatsapp","digg","reddit","email"].forEach((function(t){if(n[t].enabled){var o=jQuery('<li data-network="'+t+'"></li>');l.createSVGIcon(t).appendTo(o),o.appendTo(s).bind("tap click",(function(t){t.preventDefault(),t.stopPropagation();var o,i=this.dataset.network,s=encodeURIComponent(n.shareTitle||n[i].description||"Check out this flipbook"),l=encodeURIComponent(n.shareUrl||e.location.href),h=encodeURIComponent(n.shareImage||"");switch(i){case"facebook":o="https://www.facebook.com/sharer.php?u="+l+"&t="+s;break;case"twitter":o="https://twitter.com/intent/tweet?text="+s+"&url="+l;break;case"linkedin":o="https://www.linkedin.com/shareArticle?mini=true&url="+l+"&title="+s;break;case"pinterest":o="https://www.pinterest.com/pin/create/button/?url="+l+"&media="+h+"&description="+s;break;case"email":o="mailto:?subject="+s+"&body="+l;break;case"digg":o="http://digg.com/submit?url="+l+"&title="+s;break;case"reddit":o="http://reddit.com/submit?url="+l+"&title="+s;break;case"whatsapp":o=n.isMobile?"whatsapp://send?text="+s+"%20"+l:"https://wa.me?text="+s+"%20"+l}e.open(o,"Share","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=600, top="+r+", left="+a)}))}})),this.closeMenus(),this.shareMenuShowing=!0,this.initColors()}},toggleNotesMenu:function(){if(this.notesMenu)this.notesMenuShowing?(this.notesMenu.hide(),this.notesMenuShowing=!1):(this.notesMenu.show(),this.closeMenus(),this.notesMenuShowing=!0);else{this.notesMenu=jQuery(o.createElement("div")).appendTo(this.wrapper).addClass("flipbook-sub-menu flipbook-font");var t=jQuery('<div class="flipbook-sub-menu-center">').appendTo(this.notesMenu),e=jQuery('<div class="flipbook-sub-menu-content skin-color-bg">').appendTo(t);this.createMenuHeader(e,this.options.strings.notes,this.toggleNotesMenu),this.closeMenus(),this.notesMenuShowing=!0,this.initColors();const i=this;this.options.noteTypes.forEach((function(t){const n=o.createElement("div");n.innerHTML="<span>"+t.title+'</span><span aria-hidden="true" class="flipbook-icon-comment flipbook-icon flipbook-menu-btn" style="font-size: 14px; margin: 2px; padding: 12px; opacity: var(--flipbook-link-opacity);color:'+t.color+'"></span>';const s=o.createElement("input");s.type="checkbox",s.dataset.id=t.id,s.checked=t.enabled,s.onchange=function(){t.enabled=this.checked,i.updateNoteSettings(t)},n.appendChild(s),e[0].appendChild(n)}))}},updateNoteSettings:function(t){this.options.noteTypes.forEach((function(e){e.id==t.id&&(e.enabled=t.enabled)})),this.noteService.updateNoteVisibility()},bookmarkPage:function(t){var e=this.getBookmarkedPages();e.indexOf(String(t))<0&&e.push(t),this.setBookmarkedPages(e),this.thumbs.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},removeBookmark:function(t){var e=this.getBookmarkedPages();e.indexOf(String(t))>-1&&e.splice(e.indexOf(String(t)),1),this.setBookmarkedPages(e),this.thumbs.showBookmarkedThumbs(),this.bookmarkShowing||this.toggleBookmark()},isBookmarked:function(t){return this.getBookmarkedPages().indexOf(String(t))>0},getBookmarkedPages:function(){var t=localStorage.getItem(this.options.name+"_flipbook_bookmarks");return t?t.split(";"):[]},setBookmarkedPages:function(t){localStorage.setItem(this.options.name+"_flipbook_bookmarks",t.join(";"))},printPage:function(t,e){var i,n=this.options.pages[t],s=this.options.pageTextureSize,a=this;if(n)if(n.print)i=n.print;else if(n.images&&n.images[s]){const t=o.createElement("canvas"),e=t.getContext("2d"),a=n.images[s];t.width=a.width,t.height=a.height,e.drawImage(a,0,0,a.width,a.height),i=t.toDataURL(),t.width=t.height=1,e.clearRect(0,0,1,1)}else n.src&&(i=n.src);i?this.togglePrintWindow(i):this.loadPage(t,s,(function(){a.printPage(t)}))},downloadPage:function(t){var e,i=this.options.pages[t],n=this.options.pageTextureSize;if(i&&i.download)e=i.download;else if(i&&i.src)e=i.src;else if(i&&i.images&&i.images[n]){const t=o.createElement("canvas"),s=t.getContext("2d"),a=i.images[n];t.width=a.width,t.height=a.height,s.drawImage(a,0,0,a.width,a.height),e=t.toDataURL(),t.width=t.height=1,s.clearRect(0,0,1,1)}if(e){var s=o.createElement("a");s.href=e,s.download="page"+String(t+1),o.body.appendChild(s),s.click(),o.body.removeChild(s)}else{var a=this;this.loadPage(t,this.options.pageTextureSize,(function(){a.downloadPage(t)}))}},printFile:function(t){var e=o.createElement("iframe");e.style.display="none",e.src=t,o.body.appendChild(e),e.contentWindow.onload=function(){var t=this;setTimeout((function(){t.print()}),100)}},togglePrintWindow:function(t){var o=this,i="";if(t)i=t;else{if(o.options.printPdfUrl)return void o.printFile(o.options.printPdfUrl);if(o.options.pdfUrl)return void o.printFile(o.options.pdfUrl)}!function(){var n=e.open("about:blank","_new");if(n.document.open(),t)i='<img src="'+t+'"/>\n';else for(var s=0;s<o.options.pages.length;s++)o.options.pages[s].src&&(i+='<img src="'+o.options.pages[s].src.toString()+'"/>\n');var a=function(t){return"<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.addEventListener('afterprint', function(){\n       debugger;\n       window.close();\n  });\n  window.print();\n}\n<\/script>\n<style>img {display:block;max-width:100%;page-break-after: always;}@media print header{display: none;}</style>\n</head>\n<body onLoad='step1()'>\n"+t+"</body>\n</html>\n"}(i);n.document.write(a),n.document.close()}()},thumbsVertical:function(){this.thumbsCreated&&(this.thumbScroll.hScroll=!1,this.thumbScroll.vScroll=!0,this.thumbScroll.refresh())},toggleExpand:function(t){e.screenfull.enabled?e.screenfull.toggle(this.fullscreenElement):(this.isFullscreen=!this.isFullscreen,this.handleFsChange(!0))},expand:function(){},toggleAutoplay:function(t){var e=this;this.autoplay=t||!this.autoplay,this.autoplay?this.autoplayTimer=setInterval((function(){if(e.autoplay){var t=e.options.autoplayStartPage||1;e.options.rightToLeft?e.Book.prevEnabled?e.prevPage():e.options.autoplayLoop?e.goToPage(e.options.pages.length-t+1):e.toggleAutoplay(!1):e.Book.nextEnabled?e.nextPage():e.options.autoplayLoop?e.goToPage(t):e.toggleAutoplay(!1)}}),e.options.autoplayInterval):clearInterval(e.autoplayTimer),this.toggleIcon(this.btnAutoplay,!this.autoplay)},triggerResizeOnce:function(){setTimeout((function(){jQuery(e).trigger("resize")}),100),setTimeout((function(){jQuery(e).trigger("resize")}),500)},triggerResize:function(){setTimeout((function(){jQuery(e).trigger("resize")}),100),setTimeout((function(){jQuery(e).trigger("resize")}),500),setTimeout((function(){jQuery(e).trigger("resize")}),2e3)},initEasing:function(){e.jQuery.extend(e.jQuery.easing,{def:"easeOutQuad",swing:function(t,e,o,i,n){return jQuery.easing[jQuery.easing.def](t,e,o,i,n)},easeInQuad:function(t,e,o,i,n){return i*(e/=n)*e+o},easeOutQuad:function(t,e,o,i,n){return-i*(e/=n)*(e-2)+o},easeInOutQuad:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e+o:-i/2*(--e*(e-2)-1)+o},easeInCubic:function(t,e,o,i,n){return i*(e/=n)*e*e+o},easeOutCubic:function(t,e,o,i,n){return i*((e=e/n-1)*e*e+1)+o},easeInOutCubic:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e+o:i/2*((e-=2)*e*e+2)+o},easeInQuart:function(t,e,o,i,n){return i*(e/=n)*e*e*e+o},easeOutQuart:function(t,e,o,i,n){return-i*((e=e/n-1)*e*e*e-1)+o},easeInOutQuart:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e*e+o:-i/2*((e-=2)*e*e*e-2)+o},easeInQuint:function(t,e,o,i,n){return i*(e/=n)*e*e*e*e+o},easeOutQuint:function(t,e,o,i,n){return i*((e=e/n-1)*e*e*e*e+1)+o},easeInOutQuint:function(t,e,o,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+o:i/2*((e-=2)*e*e*e*e+2)+o},easeInSine:function(t,e,o,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+o},easeOutSine:function(t,e,o,i,n){return i*Math.sin(e/n*(Math.PI/2))+o},easeInOutSine:function(t,e,o,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+o},easeInExpo:function(t,e,o,i,n){return 0==e?o:i*Math.pow(2,10*(e/n-1))+o},easeOutExpo:function(t,e,o,i,n){return e==n?o+i:i*(1-Math.pow(2,-10*e/n))+o},easeInOutExpo:function(t,e,o,i,n){return 0==e?o:e==n?o+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+o:i/2*(2-Math.pow(2,-10*--e))+o},easeInCirc:function(t,e,o,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+o},easeOutCirc:function(t,e,o,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+o},easeInOutCirc:function(t,e,o,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+o:i/2*(Math.sqrt(1-(e-=2)*e)+1)+o},easeInElastic:function(t,e,o,i,n){var s=1.70158,a=0,r=i;return 0==e?o:1==(e/=n)?o+i:(a||(a=.3*n),r<Math.abs(i)?(r=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e*n-s)*(2*Math.PI)/a)+o)},easeOutElastic:function(t,e,o,i,n){var s=1.70158,a=0,r=i;return 0==e?o:1==(e/=n)?o+i:(a||(a=.3*n),r<Math.abs(i)?(r=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*e)*Math.sin((e*n-s)*(2*Math.PI)/a)+i+o)},easeInOutElastic:function(t,e,o,i,n){var s=1.70158,a=0,r=i;return 0==e?o:2==(e/=n/2)?o+i:(a||(a=n*(.3*1.5)),r<Math.abs(i)?(r=i,s=a/4):s=a/(2*Math.PI)*Math.asin(i/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*n-s)*(2*Math.PI)/a)*-.5+o:r*Math.pow(2,-10*(e-=1))*Math.sin((e*n-s)*(2*Math.PI)/a)*.5+i+o)},easeInBack:function(t,e,o,n,s,a){return a==i&&(a=1.70158),n*(e/=s)*e*((a+1)*e-a)+o},easeOutBack:function(t,e,o,n,s,a){return a==i&&(a=1.70158),n*((e=e/s-1)*e*((a+1)*e+a)+1)+o},easeInOutBack:function(t,e,o,n,s,a){return a==i&&(a=1.70158),(e/=s/2)<1?n/2*(e*e*((1+(a*=1.525))*e-a))+o:n/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+o},easeInBounce:function(t,e,o,i,n){return i-jQuery.easing.easeOutBounce(t,n-e,0,i,n)+o},easeOutBounce:function(t,e,o,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+o:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+o:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+o:i*(7.5625*(e-=2.625/2.75)*e+.984375)+o},easeInOutBounce:function(t,e,o,i,n){return e<n/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,n)+o:.5*jQuery.easing.easeOutBounce(t,2*e-n,0,i,n)+.5*i+o}})}},FLIPBOOK.Book=function(){},FLIPBOOK.Book.prototype={rightIndex:0,goToPage:function(){},getRightIndex:function(){},canFlipNext:function(){return this.flippedright>0&&(!(1!=this.view||!this.isFocusedLeft||!this.isFocusedLeft())||!(1==this.flippedright&&!this.options.rightToLeft&&!this.options.backCover))},canFlipPrev:function(){return this.flippedleft>0&&(!(1!=this.view||!this.isFocusedRight||!this.isFocusedRight())||!(1==this.flippedleft&&this.options.rightToLeft&&!this.options.backCover))},getCurrentPageNumber:function(){var t=this.rightIndex%2==1?this.rightIndex+1:this.rightIndex;return this.options.rightToLeft?(t=this.options.pages.length-t,this.isFocusedRight()?t:t+1):this.isFocusedLeft()?t:t+1}},FLIPBOOK.Notes=function(t){const e=this;this.main=t,this.notes=Object.values(t.options.notes||[]),this.textSelectionRect=o.createElement("span"),this.textSelectionRect.className="flipbook-add-note-rect hover";const i=o.createElement("span");i.className="add-note-btn",i.innerText=t.options.strings.addNote,i.onclick=function(){e.hideButton(),e.createNote()},i.onmousedown=function(){},this.noteButton=i,this.textSelectionRect.appendChild(i),this.hideButton(),this.notePopup=o.createElement("div"),this.notePopup.className="flipbook-note-display",this.notePopup.innerHTML='<div class="note-content"><textarea role="textbox" maxlength="500" placeholder="'+t.options.strings.typeInYourNote+'" tabindex="0" class="note-article"></textarea></div> <div  aria-hidden="true" class="note-footer"> <span title="Delete Note" class="icon icon-trash-can note-button note-delete-button"><svg version="1.1" viewBox="0 0 24 24" class="svg-icon svg-fill" focusable="false"><path pid="0" d="M15.976 17.862c0 .607-.414 1.138-.885 1.138H8.893c-.47 0-.869-.513-.869-1.12L8.002 8H16l-.023 9.862zM20 6h-5V4.466C15 3.66 14.853 3 14.013 3h-3.858C9.315 3 9 3.659 9 4.466V6H4v2h2v10c0 1.843 1.153 3 2.893 3h6.198C16.84 21 18 19.852 18 18V8h2V6z"></path><path pid="1" d="M13 18h1V9h-1zM10 18h1V9h-1z"></path></svg></span></div>',this.notePopup.onmouseup=function(t){t.stopPropagation()},this.noteDelete=this.notePopup.getElementsByClassName("note-delete-button")[0],this.noteDelete.onclick=function(){e.deleteNote()},this.noteInput=this.notePopup.querySelectorAll("textarea")[0],this.noteInput.onchange=function(){const t=this.dataset.note,o=this.value;e.getNoteById(t).text=o,e.main.trigger("r3d-update-note",{note:e.getNoteById(t)})},this.updateNoteVisibility()},FLIPBOOK.Notes.prototype={initPageNotes:function(t){const e=this;this.notes.forEach((function(o){o.page==t.index+1&&e.addPageNote(o,t)})),this.addPageNoteListeners(t)},getNodeColor:function(t){let e="green";return this.main.options.noteTypes.forEach((function(o){o.id==t.type&&(e=o.color)})),e},updateNoteVisibility:function(){let t=o.documentElement;this.main.options.noteTypes.forEach((function(e){t.style.setProperty(`--note-${e.id}-opacity`,e.enabled?"1":"0"),t.style.setProperty(`--note-${e.id}-pointer-events`,e.enabled?"auto":"none")}))},addPageNote:function(t){const e=t.page,o=this.main.options.pages[e-1],i=this.getNodeColor(t)||"yellow";if(t.selectedText&&o.htmlContentInitialized){t.id||(t.id=Date.now()+Math.floor(1e3*Math.random()));const n=jQuery(o.htmlContent).find(".flipbook-textLayer"),s=`flipbook-page-note \n                                                     note-id-${t.id} \n                                                     note-page-${e} \n                                                     note-type-${t.type} \n                                                     mark-${i} \n                                                     flipbook-note-${t.id}`;n.mark(t.selectedText,{acrossElements:!0,separateWordSearch:!1,className:"mark-note "+s});const a=this;n.find(`.note-id-${t.id}`).each((function(e,i){i.dataset.note=t.id,i.onclick=function(){a.showNote(this,o,this.dataset.note),a.hideButton()},i.style.opacity="var(--note-"+t.type+"-opacity)",i.style.pointerEvents="var(--note-"+t.type+"-pointer-events)"}))}},showButton:function(){this.noteButton.style.display="block"},hideButton:function(){this.noteButton.style.display="none"},showNote(t,e,o){const i=e.htmlContent.getBoundingClientRect(),n=t.getBoundingClientRect(),s=this.getNoteById(o);jQuery(e.htmlContent)[0].appendChild(this.notePopup);const a=this.main,r=a.Book.sc*a.wrapperH/1e3,l=(n.y/a.zoom-i.y/a.zoom)/r;this.notePopup.style.top=l<150?l+40+"px":l-140+"px",this.notePopup.style.left=(n.x/a.zoom+.5*n.width/a.zoom-i.x/a.zoom)/r+"px",this.noteInput.value=s.text||"",this.noteInput.dataset.note=s.id,this.activeNote=s,s.readonly?this.disableNoteEdit():this.enableNoteEdit()},enableNoteEdit:function(){this.noteDelete.style.display="block",this.noteInput.readOnly=!1},disableNoteEdit:function(){this.noteDelete.style.display="none",this.noteInput.readOnly=!0},hideNote:function(){this.notePopup.parentNode&&this.notePopup.parentNode.removeChild(this.notePopup),this.activeNote=null},createNote:function(){this.textSelectionRect.appendChild(this.notePopup),this.notePopup.style.left="50%",this.textSelectionRect.offsetTop<150?this.notePopup.style.top="40px":this.notePopup.style.top="-140px",this.noteInput.value="",this.noteInput.focus();const t={selectedText:this.selectedTextString,page:this.selectedTextPageNumber,type:1};this.notes.push(t),this.addPageNote(t),this.noteInput.dataset.note=t.id,this.addPageNoteListeners(this.main.options.pages[t.page-1]),this.activeNote=t,this.enableNoteEdit(),this.main.trigger("r3d-update-note",{note:t})},deleteNote:function(){const t=this.main.options.pages[this.activeNote.page-1];jQuery(t.htmlContent).find(".flipbook-textLayer").unmark({className:`flipbook-note-${this.activeNote.id}`});const e=this.notes.indexOf(this.activeNote);e>-1&&this.notes.splice(e,1),this.hideNote(),this.main.trigger("r3d-delete-note",{note:this.activeNote})},getNoteById:function(t){let e=null;return this.notes.forEach((function(o){Number(o.id)==Number(t)&&(e=o)})),e},removeTextRect:function(){this.textSelectionRect.parentNode&&this.textSelectionRect.parentNode.removeChild(this.textSelectionRect)},addPageNoteListeners:function(t){const o=this;t.textLayerDiv&&!t.notesInitialized&&(t.textLayerDiv.addEventListener("mouseup",(function(t){if(!t.target.classList.contains("add-note-btn"))if(o.hideNote(),o.showButton(),o.selectedText=e.getSelection(),o.selectedText.toString()){o.selectedTextString=o.selectedText.toString(),o.selectedTextPageNumber=Number(this.dataset.pageNumber),o.selectedTextRange=o.selectedText.getRangeAt(0);const t=o.selectedTextRange.getBoundingClientRect(),e=this.getBoundingClientRect(),i=o.main;let n=i.Book.sc*i.wrapperH/1e3;o.textSelectionRect.style.top=(t.y/i.zoom-e.y/i.zoom)/n+"px",o.textSelectionRect.style.left=(t.x/i.zoom-e.x/i.zoom)/n+"px",o.textSelectionRect.style.width=t.width/i.zoom/n+"px",o.textSelectionRect.style.height=t.height/i.zoom/n+"px",this.appendChild(o.textSelectionRect)}else o.removeTextRect()})),t.textLayerDiv.addEventListener("mousemove",(function(t){if(o.selectedTextRange&&o.selectedText.toString()){const e=o.textSelectionRect.getBoundingClientRect(),i=o.textSelectionRect.firstChild.getBoundingClientRect();t.clientX>=e.left&&t.clientX<=e.right&&t.clientY>=i.top&&t.clientY<=e.bottom?o.showButton():o.hideButton()}})),t.notesInitialized=!0)}},FLIPBOOK.Tooltip=function(){this.domElement=o.createElement("div"),this.domElement.style.display="none",this.domElement.className="flipbook-tooltip flipbook-noselect";const t=this;this.currentPosition={x:0,y:0},o.addEventListener("scroll",(function(){t.position()}))},FLIPBOOK.Tooltip.prototype={show:function(t){this.showing||(this.domElement.style.display="block",this.showing=!0,t.text&&(this.domElement.innerText=t.text),t.parent&&t.parent.appendChild(this.domElement),t.onClick?(this.domElement.style.cursor="pointer",this.domElement.onclick=t.onClick):(this.domElement.style.cursor="auto",this.domElement.removeAttribute("onclick")),this.currentPosition=t.position,this.position())},hide:function(){this.showing&&(this.domElement.style.display="none",this.showing=!1)},position:function(){const t=this.domElement.parentNode.getBoundingClientRect();this.domElement.style.top=this.currentPosition.y-t.top-scrollY+"px",this.domElement.style.left=this.currentPosition.x-t.left-scrollX+"px"}},FLIPBOOK.Thumbnails=function(t){var e=this,i=t.options,n=t.wrapper;this.main=t,this.options=i,this.wrapper=n,this.active=null,jQuery(t).bind("pagechange",(function(){e.updateWrapperHeight()})),this.thumbHolder=jQuery(o.createElement("div")).addClass("flipbook-thumbHolder flipbook-side-menu skin-color-bg").appendTo(n).css(this.options.sideMenuPosition,"0").hide(),this.thumbsWrapper=jQuery(o.createElement("div")).appendTo(this.thumbHolder).addClass("flipbook-thumbsWrapper"),this.thumbsScroller=jQuery(o.createElement("div")).appendTo(this.thumbsWrapper).addClass("flipbook-thumbsScroller"),t.createMenuHeader(this.thumbHolder,t.strings.thumbnails,t.toggleThumbs),this.bookmark=jQuery("<div>").addClass("flipbook-font").appendTo(this.thumbHolder).hide(),jQuery('<a><div class="c-p skin-color flipbook-btn">'+i.strings.bookmarkCurrentPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",(function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()})),jQuery('<a><div class="c-l-p skin-color flipbook-btn">'+i.strings.bookmarkLeftPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",(function(e){t.bookmarkPage(t.cPage[0],this),e.preventDefault(),e.stopPropagation()})),jQuery('<a><div class="c-r-p skin-color flipbook-btn">'+i.strings.bookmarkRightPage+"</div></a>").appendTo(this.bookmark).bind("touchend click",(function(e){t.bookmarkPage(t.cPage[1],this),e.preventDefault(),e.stopPropagation()})),this.search=jQuery("<div>").addClass("flipbook-search").appendTo(this.thumbHolder).hide(),this.$searchBar=jQuery('<div class="flipbook-findbar" id="findbar" deluminate_imagetype="png"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" autocapitalize="none" placeholder="'+i.strings.findInDocument+'..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.search);var s=0;this.$findInput=this.$searchBar.find("#findInput").on("keyup",(function(){var t=this.value;clearTimeout(s),s=setTimeout((function(t){if(""!=t){var o=e.main,i=o.pdfService,n=o.options,s=0;if(e.hideAllThumbs(),e.clearSearchResults(),e.pagesFound=0,e.$findInfo.hide(),o.unmark(),o.searchingString=t,e.$findInfo.show().text(n.strings.noMatches),i)for(var a=0;a<i.pdfInfo.numPages;a++)i.findInPage(t,a,(function(o,i,a,r){o.length>0&&(e.pagesFound++,s+=o.length,e.$findInfo.show().text(s+" "+n.strings.matchesFound),e.main.mark(t),e.showSearchResults(o,a,r))}));else n.pagesOriginal.forEach(((i,s)=>{var a=s;n.doublePage&&(a*=2),n.doublePage&&a==2*n.pagesOriginal.length-2&&a--,o.loadPageHTML(a,(function(i,s){i.innerText.toUpperCase().search(o.searchingString.toUpperCase())>0&&(n.doublePage&&(s/=2),e.showThumb(s),e.pagesFound++,e.$findInfo.show().text(e.pagesFound+" "+n.strings.pagesFoundContaining+' "'+t+'"'),e.main.mark(t)),0==e.pagesFound&&e.$findInfo.show().text(n.strings.noMatches)}))}))}else e.hideAllThumbs(),e.clearSearchResults(),e.$findInfo.hide(),e.main.unmark(),e.main.searchingString=t}),700,t)})),this.$findInfo=this.$searchBar.find(".flipbook-find-info"),this.thumbs=[];var a=i.pages,r=[];if(i.doublePage)for(var l=0;l<a.length;l++)0!=l&&l%2==0||r.push(a[l]);else r=a;i.pdfMode&&this.loadThumbsFromPdf(r);var h=i.thumbSize,d=i.thumbSize*i.pageWidth/i.pageHeight;r.forEach(((n,s)=>{var a=n.thumb;if(!n.empty){var l,p=jQuery("<div>").addClass("flipbook-thumb").appendTo(e.thumbsScroller).attr("data-thumb-index",s).width(d).height(h),c=jQuery("<span>").appendTo(p).addClass("thumb-btn-close").bind("touchend click",(function(e){e.stopPropagation(),e.preventDefault(),t.removeBookmark(jQuery(this).parent().attr("data-thumb-index"))}));if(jQuery("<span>").attr("aria-hidden","true").appendTo(c).addClass("flipbook-icon-times skin-color"),this.thumbs.push(p),n.thumbCanvas)l=jQuery(n.thumbCanvas);else{if(!a)return;(l=jQuery("<img/>").attr("src",a))[0].onload=function(){e.thumbScroll.refresh()}}l.appendTo(p),jQuery("<br/>").appendTo(p);var g=i.doublePage&&i.pages.length%2==0&&s==r.length-1,u=i.doublePage&&0==s,b=i.doublePage&&!u&&!g;if(g)l.height(h).width(d).attr("page-title",2*s),jQuery(o.createElement("span")).text(String(2*s)).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num");else if(b)p.width(2*d),l.height(h).width(2*d).attr("page-title",2*s+1),jQuery(o.createElement("span")).text(String(2*s)+"-"+String(2*s+1)).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num");else{l.height(h).width(d).attr("page-title",s+1);var m=String(s+1);this.options.pages[s]&&this.options.pages[s].title&&(m=this.options.pages[s].title),jQuery(o.createElement("span")).text(m).appendTo(p).addClass("skin-color").addClass("flipbook-thumb-num")}l.bind("touchend click",(function(o){if(o.stopPropagation(),o.preventDefault(),!e.thumbScroll.moved){var n=Number(jQuery(this).attr("page-title"));i.rightToLeft&&(n=i.pages.length-n+1),setTimeout((function(){t.goToPage(n)}),200),"search"!=e.active&&i.thumbsCloseOnClick&&t.toggleThumbs(!1)}}))}})),this.thumbScroll=new FLIPBOOK.IScroll(this.thumbsWrapper[0],{bounce:!1,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0}),t.initColors()},FLIPBOOK.Thumbnails.prototype={loadThumbsFromPdf:function(t){for(var e=this.main.pdfDocument._pdfInfo.numPages,i=0;i<e;i++){var n=o.createElement("canvas");t[i].thumbCanvas=n}this.loadThumbFromPdf(0,t)},loadVisibleThumbs:function(){},loadThumbFromPdf:function(t,e){var o=this;this.main.pdfDocument.getPage(t+1).then((function(t){var i=t.getViewport({scale:1}),n=o.options.thumbSize/i.height,s=t.getViewport({scale:n}),a=e[t._pageIndex].thumbCanvas,r=a.getContext("2d");a.height=s.height,a.width=s.width;var l={canvasContext:r,viewport:s};t.cleanupAfterRender=!0,t.render(l).promise.then((function(){t.cleanup(),t._pageIndex+1<o.main.pdfDocument._pdfInfo.numPages&&o.loadThumbFromPdf(t._pageIndex+1,e)})),o.thumbScroll.refresh()}))},showAllThumbs:function(){jQuery(".flipbook-thumb").show(),this.clearSearchResults(),this.thumbScroll.refresh()},hideAllThumbs:function(){jQuery(".flipbook-thumb").hide(),this.thumbScroll.refresh()},clearSearchResults:function(){jQuery(".flipbook-search-match").remove(),this.thumbScroll.refresh()},showSearchResults:function(t,e,o){var i=this,n=this.main.options,s=t.length,a=Number(e+1);jQuery('<div data-page="'+a+'" style="order: '+e+'" class="flipbook-search-match"><div class="flipbook-search-match-title"><span style="float:left;"><strong>Page '+a+'</strong></span><span style="float:right;">'+s+' matches</span></div><div class="flipbook-search-match-text">'+o+"</div></div>").appendTo(i.thumbsScroller).bind("tap click",(function(t){t.stopPropagation(),t.preventDefault();var e=Number(this.dataset.page);e=n.rightToLeft&&n.pages&&n.pages.length?n.pages.length-e+1:e,i.main.goToPage(e)})),this.updateWrapperHeight(),this.thumbScroll.refresh()},showThumb:function(t){this.thumbs[t]&&this.thumbs[t].show(),this.thumbScroll.refresh()},hideThumb:function(t){this.thumbs[t].hide(),this.thumbScroll.refresh()},showBookmarks:function(){jQuery(".thumb-btn-close").show(),this.showBookmarkedThumbs(),this.clearSearchResults(),this.bookmark.show(),this.setTitle(this.options.strings.bookmarks),this.main.updateCurrentPage(),this.active="bookmarks",this.updateWrapperHeight()},showSearch:function(){this.clearSearchResults(),this.hideAllThumbs(),this.search.show(),this.$findInfo.hide(),jQuery(".thumb-btn-close").hide(),this.setTitle(this.options.strings.search),this.$findInput.val("").focus(),this.active="search",this.updateWrapperHeight()},showBookmarkedThumbs:function(){var t=this.main.getBookmarkedPages();this.hideAllThumbs();for(var e=0;e<t.length;e++){var o=t[e];o&&this.showThumb(o)}this.updateWrapperHeight()},updateWrapperHeight:function(){var t=50;"bookmarks"==this.active?t+=this.bookmark.height():"search"==this.active&&(t+=this.search.height()),this.thumbsWrapper.css("top",t+"px")},show:function(){this.setTitle(this.options.strings.thumbnails),this.bookmark.hide(),this.search.hide(),this.thumbHolder.show(),this.main.thumbsVertical(),this.thumbsWrapper.css("top","50px"),this.showAllThumbs(),jQuery(".thumb-btn-close").hide(),this.loadVisibleThumbs(),this.main.resize(),this.active="thumbs"},hide:function(){this.thumbHolder.hide(),this.main.resize(),this.active=null},setTitle:function(t){this.thumbHolder.find(".flipbook-menu-title").text(t)}},FLIPBOOK.Lightbox=function(t,e,i){var n=this;this.context=t,this.options=i,this.$document=jQuery("document"),this.$body=jQuery("body"),this.$html=jQuery("html"),this.$window=jQuery("window"),t.$elem.bind("tap click",(function(t){if(!e.disposed)return n.openLightbox(),t.stopPropagation(),!1})),n.overlay=jQuery(o.createElement("div")).attr("style",i.lightboxCSS).addClass("flipbook-overlay").css("display","none").css("top",n.options.lightboxMarginV).css("bottom",n.options.lightboxMarginV).css("left",n.options.lightboxMarginH).css("right",n.options.lightboxMarginH).appendTo("body"),n.options.lightboxCloseOnClick&&jQuery("body").bind("tap click",(function(t){var e=jQuery(t.target);(!e.parents().hasClass("flipbook-overlay")||e.hasClass("flipbook-bookLayer")||e.hasClass("flipbook-carousel-slide"))&&n.closeLightbox()})),i.lightboxBackground&&n.overlay.css("background",i.lightboxBackground),i.lightboxBackgroundColor&&n.overlay.css("background",i.lightboxBackgroundColor),i.lightboxBackgroundPattern&&n.overlay.css("background","url("+i.lightboxBackgroundPattern+") repeat"),i.lightboxBackgroundImage&&(n.overlay.css("background","url("+i.lightboxBackgroundImage+") no-repeat"),n.overlay.css("background-size","cover"),n.overlay.css("background-position","center center")),o.addEventListener("keydown",(function(t){"Escape"===t.key&&n.closeLightbox()})),n.wrapper=jQuery(o.createElement("div")).css("height","auto").appendTo(n.overlay),n.wrapper.attr("class","flipbook-wrapper-transparent").css("margin","0px auto").css("padding","0px").css("height","100%").css("width","100%"),e.appendTo(n.wrapper),jQuery("<div/>").appendTo(n.wrapper).addClass("flipbook-lightbox-toolbar")},FLIPBOOK.Lightbox.prototype={openLightbox:function(){FLIPBOOK.lightboxOpened||(FLIPBOOK.lightboxOpened=!0,this.overlay.css("display","none"),this.overlay.fadeIn("slow"),this.$body.addClass("flipbook-overflow-hidden"),this.$html.addClass("flipbook-overflow-hidden"),this.$window.trigger("r3d-lightboxopen"),this.options.deeplinkingEnabled||e.history.pushState(null,"",e.location.href),this.context.options.password&&!this.context.pdfinitStarted&&this.context.initialized&&this.context.initPdf())},closeLightbox:function(t){FLIPBOOK.lightboxOpened&&this.context.Book&&this.context.Book.enabled&&(FLIPBOOK.lightboxOpened=!1,this.overlay.fadeOut("fast"),this.$body.removeClass("flipbook-overflow-hidden"),this.$html.removeClass("flipbook-overflow-hidden"),this.$window.trigger("r3d-lightboxclose"),this.context.trigger("lightboxclose"),jQuery(this.context.fullscreenElement).removeClass("flipbook-browser-fullscreen"),this.context.lightboxEnd(),t||this.options.deeplinkingEnabled||history.back())}}}(jQuery,window,document),FLIPBOOK.onPageLinkClick=function(t){var e=t.dataset.bookid,o=t.dataset.page;o&&FLIPBOOK.books[e].goToPage(Number(o));var i=t.dataset.url;i&&window.open(i,"_blank")},FLIPBOOK.easings={easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInSine:function(t){return 1-Math.cos(t*Math.PI/2)},easeOutSine:function(t){return Math.sin(t*Math.PI/2)},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2}},FLIPBOOK.animate=function({from:t,to:e,delay:o,duration:i,easing:n="easeOutQuad",step:s,complete:a}){const r=performance.now();function l(o){const h=o-r,d=Math.min(h/i,1),p=t+(e-t)*FLIPBOOK.easings[n](d);s(p),d<1?requestAnimationFrame(l):a()}o?setTimeout((()=>{requestAnimationFrame(l)}),o):requestAnimationFrame(l)};